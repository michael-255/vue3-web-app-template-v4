import{Q as f}from"./QSelect-b0d74de1.js";import{q as g,t as y,r as V,ab as h,D,W as S,P as b,bD as v,y as B,z as C,A as r,B as l,C as Q,E as n,F as i,u,L as _}from"./index-5cff7ac3.js";import{u as w}from"./action-d0cf9b67.js";import"./QItem-7dd31eaa.js";import"./QItemLabel-6b954a86.js";import"./QMenu-e96979e1.js";import"./selection-2bdc6de2.js";const k={class:"text-h6"},R=g({__name:"InputTestIds",props:{field:{},label:{},desc:{},getDefault:{type:Function},schema:{},message:{}},setup(d){const s=d,{log:c}=y(),t=w(),a=V([]);h(async()=>{try{t.record[s.field]=t.record[s.field]??s.getDefault();const e=await D.getRecords(S.Values.core,b.Values.test);a.value=e.map(o=>({value:o.id,label:`${o.name} (${v(o.id,4,"*")})`}))}catch(e){c.error("Error with test ids input",e)}});function p(){return e=>s.schema.safeParse(e).success||s.message}return(e,o)=>(B(),C(_,null,{default:r(()=>[l(Q,null,{default:r(()=>[n("p",k,i(e.label),1),n("p",null,i(e.desc),1),l(f,{modelValue:u(t).record[e.field],"onUpdate:modelValue":o[0]||(o[0]=m=>u(t).record[e.field]=m),rules:[p()],options:a.value,counter:"",multiple:"","emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary"},null,8,["modelValue","rules","options"])]),_:1})]),_:1}))}});export{R as default};
