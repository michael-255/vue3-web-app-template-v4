import{Q as m}from"./QSelect-1164f6a3.js";import{q as f,t as _,$ as v,r as h,aa as g,D as y,V as F,bF as V,y as i,R as c,F as b,u as r,B,bk as S,T as k,E as d}from"./index-24dbccec.js";import{u as R}from"./action-b51c5118.js";import{u as w}from"./useRoutables-4d249602.js";import"./QItem-4a4784b7.js";import"./QItemLabel-2ad87e79.js";import"./QMenu-315589be.js";import"./selection-f172746f.js";const I=d("div",{class:"text-weight-bold text-body1"},"Core Record",-1),$={key:0},x={key:1},C=d("p",null,"The core record that this sub record is associated with.",-1),M=f({__name:"FieldCoreId",props:{inspecting:{type:Boolean}},setup(D){const{routeType:l}=w(),{log:u}=_(),t=R(),s=v.Values.coreId,a=h([]);g(async()=>{try{const o=await y.getRecords(F.Values.core,l);a.value=o.map(e=>({value:e.id,label:`${e.name} (${V(e.id,8,"*")})`})),a.value.some(e=>e.value===t.record[s])||(t.record[s]=a.value[0].value||void 0)}catch(o){u.error("Error with core ids input",o)}});function p(o){return`${o||"-"}`}return(o,n)=>(i(),c(k,null,[I,o.inspecting?(i(),c("div",$,b(p(r(t).record[r(s)])),1)):(i(),c("div",x,[C,B(m,{modelValue:r(t).record[r(s)],"onUpdate:modelValue":n[0]||(n[0]=e=>r(t).record[r(s)]=e),rules:[e=>r(S).safeParse(e).success||"Required"],options:a.value,"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary"},null,8,["modelValue","rules","options"])]))],64))}});export{M as default};
