import{Q as w,a as y,b as L,c as q}from"./QTable-addb4b9f.js";import{q as E,N as F,G as O,t as U,r as i,$ as f,D as V,x as $,y as u,z as g,A as s,B as o,R as C,S as Q,T as k,Z as c,J as x,u as n,I as b,E as d,Q as D,a0 as A,F as h,U as R,a1 as j,O as P,X as z,Y as G,a2 as J}from"./index-24dbccec.js";import{Q as M}from"./QSelect-1164f6a3.js";import{u as X}from"./useRoutables-4d249602.js";import{u as Y}from"./useDialogs-81031fdf.js";import"./QList-69493521.js";import"./QItem-4a4784b7.js";import"./QItemLabel-2ad87e79.js";import"./QMenu-315589be.js";import"./selection-f172746f.js";import"./action-b51c5118.js";import"./ui-e8c912c8.js";const Z={class:"row justify-start full-width q-mb-md"},H=d("div",{class:"col-10 text-h6 text-bold ellipsis"},"Logs",-1),K={class:"row justify-start full-width"},W={class:"col-12"},pe=E({__name:"DataLogsView",setup(ee){F({title:`${O} - Logs Data`});const{log:N}=U(),{goBack:S}=X(),{inspectDialog:B}=Y(),m=i(""),r=i([]),p=i([f.Values.timestamp,f.Values.logLevel,f.Values.logLabel]),_=i(j),T=i(_.value.filter(a=>!a.required)),v=V.liveLogs().subscribe({next:a=>{r.value=a},error:a=>{N.error("Error fetching live Logs",a)}});$(()=>{v==null||v.unsubscribe()});async function I(a){const l=await V.getLog(Number(a)),e=P.getLogFields();B("Log",l,e)}return(a,l)=>(u(),g(q,{rows:r.value,columns:_.value,"visible-columns":p.value,"rows-per-page-options":[0],filter:m.value,"virtual-scroll":"",fullscreen:"","row-key":"id"},{header:s(e=>[o(y,{props:e},{default:s(()=>[(u(!0),C(k,null,Q(e.cols,t=>z((u(),g(w,{key:t.name,props:e},{default:s(()=>[c(h(t.label),1)]),_:2},1032,["props"])),[[G,!n(J).includes(t.name)]])),128)),o(w,{"auto-width":"",class:"text-left"},{default:s(()=>[c("Actions")]),_:1})]),_:2},1032,["props"])]),body:s(e=>[o(y,{props:e},{default:s(()=>[(u(!0),C(k,null,Q(e.cols,t=>(u(),g(L,{key:t.name,props:e},{default:s(()=>[c(h(t.value),1)]),_:2},1032,["props"]))),128)),o(L,{"auto-width":""},{default:s(()=>[o(x,{flat:"",round:"",dense:"",class:"q-ml-xs",color:"primary",icon:n(b).INSPECT,onClick:t=>I(e.cols[0].value)},null,8,["icon","onClick"])]),_:2},1024)]),_:2},1032,["props"])]),top:s(()=>[d("div",Z,[H,o(x,{round:"",flat:"",class:"absolute-top-right q-mr-sm q-mt-sm",icon:n(b).CLOSE,onClick:l[0]||(l[0]=e=>n(S)())},null,8,["icon"])]),d("div",K,[d("div",W,[o(A,{disable:!r.value.length,outlined:"",dense:"",clearable:"",debounce:"300",modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=e=>m.value=e),placeholder:"Search"},{before:s(()=>[o(M,{modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=e=>p.value=e),options:T.value,disable:!r.value.length,"bg-color":"primary",standout:"",multiple:"",dense:"","options-dense":"","emit-value":"","map-options":"","option-value":"name","display-value":""},{prepend:s(()=>[o(D,{color:"white",name:n(b).OPTIONS},null,8,["name"])]),_:1},8,["modelValue","options","disable"])]),append:s(()=>[o(D,{name:"search"})]),_:1},8,["disable","modelValue"])])])]),bottom:s(()=>[c(h(n(R)(r.value)),1)]),_:1},8,["rows","columns","visible-columns","filter"]))}});export{pe as default};
