import{f as L,r as S,q as x,y as f,z as D,A as s,u as l,M as H,B as e,C as k,aO as z,Q as v,E as O,F as y,_ as Q,aP as B,J as b,L as T,ab as M,D as F,W as I,O as V,x as U,I as q,aQ as E,aR as P,S as w,T as N,U as j,ar as A,aJ as u,aS as J}from"./index-408197b4.js";import{u as W}from"./action-4701911f.js";import{Q as G}from"./QSelect-436eab52.js";import{u as Y}from"./ui-65b145aa.js";const X=()=>!0;function Z(i){const o={};return i.forEach(r=>{o[r]=X}),o}function p(){const{emit:i,proxy:o}=L(),r=S(null);function d(){r.value.show()}function c(){r.value.hide()}function n(t){i("ok",t),c()}function a(){i("hide")}return Object.assign(o,{show:d,hide:c}),{dialogRef:r,onDialogHide:a,onDialogOK:n,onDialogCancel:c}}const K=["ok","hide"];p.emits=K;p.emitsObject=Z(K);const ee={class:"text-h6"},oe=x({__name:"ConfirmationDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...p.emits],setup(i){const o=i,{dialogRef:r,onDialogHide:d,onDialogOK:c,onDialogCancel:n}=p();return(a,t)=>(f(),D(H,{ref_key:"dialogRef",ref:r,onHide:l(d)},{default:s(()=>[e(T,{class:"q-dialog-plugin"},{default:s(()=>[e(k,{class:z(`bg-${o.color} text-white q-py-sm`)},{default:s(()=>[e(v,{name:a.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),O("span",ee,y(a.title),1)]),_:1},8,["class"]),e(k,{class:"q-mt-md"},{default:s(()=>[Q(y(a.message),1)]),_:1}),e(B,{align:"right"},{default:s(()=>[e(b,{flat:"",label:"Cancel",onClick:l(n)},null,8,["onClick"]),e(b,{flat:"",label:"Confirm",color:a.color,onClick:l(c)},null,8,["color","onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ne={class:"text-h6"},te=x({__name:"DismissalDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...p.emits],setup(i){const o=i,{dialogRef:r,onDialogHide:d,onDialogOK:c}=p();return(n,a)=>(f(),D(H,{ref_key:"dialogRef",ref:r,onHide:l(d)},{default:s(()=>[e(T,{class:"q-dialog-plugin"},{default:s(()=>[e(k,{class:z(`bg-${o.color} text-white q-py-sm`)},{default:s(()=>[e(v,{name:n.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),O("span",ne,y(n.title),1)]),_:1},8,["class"]),e(k,{class:"q-mt-md"},{default:s(()=>[Q(y(n.message),1)]),_:1}),e(B,{align:"right"},{default:s(()=>[e(b,{flat:"",label:"Dismiss",onClick:l(c)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ae={class:"text-h5"},se=x({__name:"InspectionDialog",props:{title:{},record:{},fields:{}},emits:[...p.emits],setup(i){const o=i,{dialogRef:r,onDialogHide:d,onDialogOK:c}=p(),n=W();Object.keys(o.record).map(t=>{n.record[t]=o.record[t]});const a=S("");return M(async()=>{var t,g;if((t=o==null?void 0:o.record)!=null&&t.coreId){const h=await F.getRecord(I.Values.core,(g=o==null?void 0:o.record)==null?void 0:g.coreId);if(h){const m=V.getLabel(I.Values.core,h.type,"singular"),_=h.name;a.value=`${m}, ${_}`}}}),U(()=>{n.$reset()}),(t,g)=>(f(),D(H,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:l(d)},{default:s(()=>[e(P,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[e(v,{name:l(q).INSPECT,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(E,null,{default:s(()=>[Q("Inspect")]),_:1}),e(b,{flat:"",round:"",icon:l(q).CLOSE,onClick:l(c)},null,8,["icon","onClick"])]),_:1}),e(T,{class:"q-dialog-plugin"},{default:s(()=>[e(k,null,{default:s(()=>[O("p",ae,y(t.title),1),(f(!0),w(j,null,N(t.fields,(h,m)=>(f(),w("div",{key:m,class:"q-mb-md"},[(f(),D(A(h),{inspecting:!0}))]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ie={class:"text-h5"},le=O("p",null,"Select how far back you want the charts to display record data.",-1),re=x({__name:"ChartingDialog",props:{title:{},type:{},id:{}},emits:[...p.emits],setup(i){const o=i,{dialogRef:r,onDialogHide:d,onDialogOK:c}=p(),n=Y(),a=S(null),t=S([u[u["One Week"]],u[u["One Month"]],u[u["Three Months"]],u[u["Six Months"]],u[u["One Year"]],u[u["All Time"]]]),g=V.getCharts(o.type);function h(m){return m!=null&&m!==""}return(m,_)=>(f(),D(H,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:l(d)},{default:s(()=>[e(P,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[e(v,{name:l(q).CHARTS,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(E,null,{default:s(()=>[Q("Charts")]),_:1}),e(b,{flat:"",round:"",icon:l(q).CLOSE,onClick:l(c)},null,8,["icon","onClick"])]),_:1}),e(T,{class:"q-dialog-plugin"},{default:s(()=>[e(k,null,{default:s(()=>[O("p",ie,y(m.title),1),le,e(G,{modelValue:l(n).chartTime,"onUpdate:modelValue":_[0]||(_[0]=C=>l(n).chartTime=C),ref_key:"inputRef",ref:a,label:"Chart Time",options:t.value,rules:[C=>h(C)||"* Required"],"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",onBlur:_[1]||(_[1]=C=>{var R,$;return!!(($=(R=a.value)==null?void 0:R.value)!=null&&$.validate())})},null,8,["modelValue","options","rules"]),(f(!0),w(j,null,N(l(g),(C,R)=>(f(),w("div",{key:R,class:"q-mb-md"},[(f(),D(A(C),{type:m.type,id:m.id},null,8,["type","id"]))]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}});function fe(){const i=J();function o(n,a,t,g,h){i.dialog({component:oe,componentProps:{title:n,message:a,icon:t,color:g}}).onOk(()=>{h()})}function r(n,a,t=q.INFO,g="info"){i.dialog({component:te,componentProps:{title:n,message:a,icon:t,color:g}})}function d(n,a,t){i.dialog({component:se,componentProps:{title:n,record:a,fields:t}})}function c(n,a,t){i.dialog({component:re,componentProps:{title:n,type:a,id:t}})}return{confirmDialog:o,dismissDialog:r,inspectDialog:d,chartsDialog:c}}export{fe as u};
