import{d as x,u as w,A as I,a as O,r as _,T as $,D as c,b as f,K as A,o as B,c as u,e as E,w as n,f as r,Q,g as R,h as o,i as N,j as h,k as L,F as V,l as i,m as j,t as q,I as d,n as g,p as U}from"./index-dac8af9a.js";import{_ as F}from"./ResponsivePage.vue_vue_type_script_setup_true_lang-1fde7320.js";import{_ as H}from"./WelcomeOverlay.vue_vue_type_script_setup_true_lang-d9fc537d.js";import{_ as K}from"./DashboardParentCard.vue_vue_type_script_setup_true_lang-35d91493.js";import{u as P}from"./useRoutables-b3d27bb8.js";import{u as W}from"./ui-0cf1efae.js";import"./useDefaults-74a33c97.js";import"./useDialogs-e0ea9c25.js";import"./SimpleDialog.vue_vue_type_script_setup_true_lang-a0d57a44.js";import"./QItem-00d7cb8d.js";import"./QList-65e6ce99.js";import"./QMenu-05c2876b.js";import"./selection-79119cf1.js";import"./QBadge-d4e62622.js";const z=i("p",{class:"text-h6"},"What would you like to work on?",-1),G={class:"row justify-center q-my-md"},M={class:"col-12 text-center"},J={class:"col-12 text-grey text-center"},me=x({__name:"DashboardView",setup(X){w({title:`${I} - Dashboard`});const s=W(),{log:p}=O(),{goToCreate:m}=P(),b=_(!1),l=_(Object.values($).reduce((e,t)=>(e[t]=[],e),{})),y=c.getParentTypeOptions(),D=f.liveSettings().subscribe({next:e=>{var t;b.value=!!((t=e.find(a=>a.key===A.SHOW_DESCRIPTIONS))!=null&&t.value)},error:e=>{p.error("Error fetching live Settings",e)}}),v=f.liveDashboard().subscribe({next:e=>{l.value=e},error:e=>{p.error("Error fetching live Dashboard",e)}});B(()=>{D.unsubscribe(),v.unsubscribe()});function C(){return l.value[s.dashboardType]}function S(){return U(l.value[s.dashboardType])}function T(){return`Create ${c.getLabelSingular(s.dashboardType)}`}return(e,t)=>(u(),E(F,{bannerIcon:o(d).DASHBOARD,bannerTitle:"Dashboard"},{default:n(()=>[r(H),r(N,{class:"q-mb-md"},{default:n(()=>[r(Q,null,{default:n(()=>[z,r(R,{color:"primary",options:o(y),"model-value":o(s).dashboardType,"onUpdate:modelValue":t[0]||(t[0]=a=>o(s).dashboardType=a)},null,8,["options","model-value"])]),_:1})]),_:1}),(u(!0),h(V,null,L(C(),(a,k)=>(u(),h("div",{key:k},[r(K,{class:"q-mb-md",showDescription:b.value,dashboardCard:a},{default:n(()=>[r(g,{label:"Attach Record",color:"primary",icon:o(d).ADD_NOTE,onClick:Y=>o(m)(o(c).getChildType(a.type),a.id)},null,8,["icon","onClick"])]),_:2},1032,["showDescription","dashboardCard"])]))),128)),i("div",G,[i("div",M,[r(j,{name:"menu_open",size:"80px",color:"grey"})]),i("p",J,q(S()),1),r(g,{color:"positive",icon:o(d).CREATE,label:`${T()}`,onClick:t[1]||(t[1]=a=>o(m)(o(s).dashboardType))},null,8,["icon","label"])])]),_:1},8,["bannerIcon"]))}});export{me as default};
