import{q as U,R as P,al as K,s as Y,S as j,ay as G,r as D,z as h,bc as J,v as x,P as X,m as Z,ax as p,au as ee,af as w,d as te,a as oe,b as M,K as E,o as ae,c as ne,e as le,w as V,f as m,Q as ie,l as r,t as O,h as s,A as N,I as g,n as A,aL as re,i as ce,bd as se}from"./index-5c6f171d.js";import{u as ue}from"./useDefaults-47330a43.js";const de=U({name:"QRating",props:{...P,...K,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{slots:S,emit:_}){const{proxy:{$q:v}}=Y(),y=j(e),L=G(e),C=p(L),l=D(0);let n={};const i=h(()=>e.readonly!==!0&&e.disable!==!0),F=h(()=>`q-rating row inline items-center q-rating--${i.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),T=h(()=>{const a=Array.isArray(e.icon)===!0?e.icon.length:0,t=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,c=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,d=Array.isArray(e.color)===!0?e.color.length:0,f=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,o=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:a,icon:a>0?e.icon[a-1]:e.icon,selIconLen:t,selIcon:t>0?e.iconSelected[t-1]:e.iconSelected,halfIconLen:c,halfIcon:c>0?e.iconHalf[t-1]:e.iconHalf,colorLen:d,color:d>0?e.color[d-1]:e.color,selColorLen:f,selColor:f>0?e.colorSelected[f-1]:e.colorSelected,halfColorLen:o,halfColor:o>0?e.colorHalf[o-1]:e.colorHalf}}),B=h(()=>{if(typeof e.iconAriaLabel=="string"){const a=e.iconAriaLabel.length>0?`${e.iconAriaLabel} `:"";return t=>`${a}${t}`}if(Array.isArray(e.iconAriaLabel)===!0){const a=e.iconAriaLabel.length;if(a>0)return t=>e.iconAriaLabel[Math.min(t,a)-1]}return(a,t)=>`${t} ${a}`}),R=h(()=>{const a=[],t=T.value,c=Math.ceil(e.modelValue),d=i.value===!0?0:null,f=e.iconHalf===void 0||c===e.modelValue?-1:c;for(let o=1;o<=e.max;o++){const u=l.value===0&&e.modelValue>=o||l.value>0&&l.value>=o,b=f===o&&l.value<o,I=l.value>0&&(b===!0?c:e.modelValue)>=o&&l.value<o,$=b===!0?o<=t.halfColorLen?e.colorHalf[o-1]:t.halfColor:t.selColor!==void 0&&u===!0?o<=t.selColorLen?e.colorSelected[o-1]:t.selColor:o<=t.colorLen?e.color[o-1]:t.color,z=(b===!0?o<=t.halfIconLen?e.iconHalf[o-1]:t.halfIcon:t.selIcon!==void 0&&(u===!0||I===!0)?o<=t.selIconLen?e.iconSelected[o-1]:t.selIcon:o<=t.iconLen?e.icon[o-1]:t.icon)||v.iconSet.rating.icon;a.push({name:(b===!0?o<=t.halfIconLen?e.iconHalf[o-1]:t.halfIcon:t.selIcon!==void 0&&(u===!0||I===!0)?o<=t.selIconLen?e.iconSelected[o-1]:t.selIcon:o<=t.iconLen?e.icon[o-1]:t.icon)||v.iconSet.rating.icon,attrs:{tabindex:d,role:"radio","aria-checked":e.modelValue===o?"true":"false","aria-label":B.value(o,z)},iconClass:"q-rating__icon"+(u===!0||b===!0?" q-rating__icon--active":"")+(I===!0?" q-rating__icon--exselected":"")+(l.value===o?" q-rating__icon--hovered":"")+($!==void 0?` text-${$}`:"")})}return a}),Q=h(()=>{const a={role:"radiogroup"};return e.disable===!0&&(a["aria-disabled"]="true"),e.readonly===!0&&(a["aria-readonly"]="true"),a});function q(a){if(i.value===!0){const t=ee(parseInt(a,10),1,parseInt(e.max,10)),c=e.noReset!==!0&&e.modelValue===t?0:t;c!==e.modelValue&&_("update:modelValue",c),l.value=0}}function H(a){i.value===!0&&(l.value=a)}function W(a,t){switch(a.keyCode){case 13:case 32:return q(t),w(a);case 37:case 40:return n[`rt${t-1}`]&&n[`rt${t-1}`].focus(),w(a);case 39:case 38:return n[`rt${t+1}`]&&n[`rt${t+1}`].focus(),w(a)}}function k(){l.value=0}return J(()=>{n={}}),()=>{const a=[];return R.value.forEach(({iconClass:t,name:c,attrs:d},f)=>{const o=f+1;a.push(x("div",{key:o,ref:u=>{n[`rt${o}`]=u},class:"q-rating__icon-container flex flex-center",...d,onClick(){q(o)},onMouseover(){H(o)},onMouseout:k,onFocus(){H(o)},onBlur:k,onKeyup(u){W(u,o)}},X(S[`tip-${o}`],[x(Z,{class:t,name:c})])))}),e.name!==void 0&&e.disable!==!0&&C(a,"push"),x("div",{class:F.value,style:y.value,...Q.value},a)}}}),fe={class:"text-h6"},me=r("p",null,"This app provides a foundation to build your own web apps.",-1),he={class:"q-mb-md"},ge=r("p",null," You are currently on the Dashboard page. This page gives you quick access to the primary data you work with in the app. You can favorite items on the Dashboard by clicking the star icon in the top right corner of the item. This prioritizes the item to the top of the list. An example of the favorite icon button is below. ",-1),ve={class:"q-mb-md"},ye=r("p",null," You can navigate through the app using the menu in the top left corner of the page. An example of the menu button is below. The menu gives you access to the primary data tables, Frequently Asked Questions (FAQ), Settings, and more. More advanced operations for the app are available on the Settings page. ",-1),be={class:"q-mb-md"},Ae=r("p",null," You can load default demostration data into the database to get started with the app right away by clicking the button below. This action can be repeated. ",-1),Se={class:"q-mb-md"},_e=r("p",null,"Click the button below when you are ready to get started.",-1),Ie=te({__name:"WelcomeOverlay",setup(e){const{onDefaults:S}=ue(),{log:_}=oe(),v=D(0),y=D(!1),L=M.liveSettings().subscribe({next:l=>{var n;y.value=(n=l.find(i=>i.key===E.SHOW_WELCOME))==null?void 0:n.value},error:l=>{_.error("Error fetching live Settings",l)}});ae(()=>{L.unsubscribe()});async function C(){await M.setSetting(E.SHOW_WELCOME,!1)}return(l,n)=>(ne(),le(se,{modelValue:y.value,"onUpdate:modelValue":n[3]||(n[3]=i=>y.value=i),persistent:""},{default:V(()=>[m(ce,null,{default:V(()=>[m(ie,null,{default:V(()=>[r("p",fe,"Welcome to "+O(s(N)),1),me,r("div",he,[ge,m(de,{modelValue:v.value,"onUpdate:modelValue":n[0]||(n[0]=i=>v.value=i),max:1,icon:s(g).FAVORITE_OFF,"icon-selected":s(g).FAVORITE_ON,color:"warning",size:"md"},null,8,["modelValue","icon","icon-selected"])]),r("div",ve,[ye,m(A,{color:"primary",class:"q-px-sm",icon:s(g).MENU_STANDARD},null,8,["icon"])]),r("div",be,[Ae,m(A,{color:"primary",label:"Add Defaults",icon:s(g).ADD_NOTE,onClick:n[1]||(n[1]=i=>s(S)())},null,8,["icon"])]),r("div",Se,[r("p",null," Hope you find "+O(s(N))+" useful. Please consider donating to help me continue to create and maintain apps like this. Thank you! ",1),m(A,{color:"warning",label:"Donate",to:{name:s(re).DONATE},icon:s(g).DONATE},null,8,["to","icon"])]),r("div",null,[_e,m(A,{"no-caps":"",label:"Start Using App",class:"full-width",size:"lg",color:"positive",icon:s(g).RECOMMEND,onClick:n[2]||(n[2]=i=>C())},null,8,["icon"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});export{Ie as _};
