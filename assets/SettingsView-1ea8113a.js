import{U as re,r as O,ad as n,ax as tt,$ as ge,ay as at,Y as D,T as Oe,az as lt,aA as Fe,aB as nt,aC as ot,aD as st,aE as it,av as rt,aF as ut,aG as De,aH as dt,aI as ct,af as mt,aq as vt,as as be,ai as ft,ae as bt,aJ as ee,aK as pt,aL as gt,aM as ht,aN as yt,ag as St,d as Ct,u as kt,A as se,a as xt,aO as wt,b as ae,D as j,S as W,aP as pe,o as Dt,f as _e,h as Te,w as P,j as p,Q as le,aQ as X,l as y,m as ne,B as K,aR as _t,t as Tt,I as Y,aS as qt,i as Lt,k as $t,p as _}from"./index-85cdcb14.js";import{b as Ot,Q as qe}from"./QSelect-67a98a6d.js";import{T as Ft}from"./TouchPan-af86e847.js";import{u as It}from"./useDialogs-bd0c25a5.js";import{u as Mt}from"./useDefaults-3eb7b215.js";import{u as Nt}from"./useRoutables-c00f81b4.js";import{_ as Rt}from"./ResponsivePage.vue_vue_type_script_setup_true_lang-41aa508e.js";import"./QItemSection-376d8637.js";import"./QItemLabel-210f03e5.js";import"./QMenu-91b59cc6.js";import"./selection-fec6dfc1.js";import"./SimpleDialog.vue_vue_type_script_setup_true_lang-7796c2c3.js";function Z(a,i,F,u){const e=[];return a.forEach(S=>{u(S)===!0?e.push(S):i.push({failedPropValidation:F,file:S})}),e}function ie(a){a&&a.dataTransfer&&(a.dataTransfer.dropEffect="copy"),ge(a)}const At={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Et=["rejected"];function Vt({editable:a,dnd:i,getFileInput:F,addFilesToQueue:u}){const{props:e,emit:S,proxy:q}=re(),v=O(null),N=n(()=>e.accept!==void 0?e.accept.split(",").map(s=>(s=s.trim(),s==="*"?"*/":(s.endsWith("/*")&&(s=s.slice(0,s.length-1)),s.toUpperCase()))):null),b=n(()=>parseInt(e.maxFiles,10)),T=n(()=>parseInt(e.maxTotalSize,10));function Q(s){if(a.value)if(s!==Object(s)&&(s={target:null}),s.target!==null&&s.target.matches('input[type="file"]')===!0)s.clientX===0&&s.clientY===0&&tt(s);else{const m=F();m&&m!==s.target&&m.click(s)}}function I(s){a.value&&s&&u(null,s)}function V(s,m,M,z){let f=Array.from(m||s.target.files);const L=[],H=()=>{L.length>0&&S("rejected",L)};if(e.accept!==void 0&&N.value.indexOf("*/")===-1&&(f=Z(f,L,"accept",o=>N.value.some(l=>o.type.toUpperCase().startsWith(l)||o.name.toUpperCase().endsWith(l))),f.length===0))return H();if(e.maxFileSize!==void 0){const o=parseInt(e.maxFileSize,10);if(f=Z(f,L,"max-file-size",l=>l.size<=o),f.length===0)return H()}if(e.multiple!==!0&&f.length>0&&(f=[f[0]]),f.forEach(o=>{o.__key=o.webkitRelativePath+o.lastModified+o.name+o.size}),z===!0){const o=M.map(l=>l.__key);f=Z(f,L,"duplicate",l=>o.includes(l.__key)===!1)}if(f.length===0)return H();if(e.maxTotalSize!==void 0){let o=z===!0?M.reduce((l,r)=>l+r.size,0):0;if(f=Z(f,L,"max-total-size",l=>(o+=l.size,o<=T.value)),f.length===0)return H()}if(typeof e.filter=="function"){const o=e.filter(f);f=Z(f,L,"filter",l=>o.includes(l))}if(e.maxFiles!==void 0){let o=z===!0?M.length:0;if(f=Z(f,L,"max-files",()=>(o++,o<=b.value)),f.length===0)return H()}if(H(),f.length>0)return f}function $(s){ie(s),i.value!==!0&&(i.value=!0)}function g(s){ge(s),(s.relatedTarget!==null||at.is.safari!==!0?s.relatedTarget!==v.value:document.elementsFromPoint(s.clientX,s.clientY).includes(v.value)===!1)===!0&&(i.value=!1)}function B(s){ie(s);const m=s.dataTransfer.files;m.length>0&&u(null,m),i.value=!1}function U(s){if(i.value===!0)return D("div",{ref:v,class:`q-${s}__dnd absolute-full`,onDragenter:ie,onDragover:ie,onDragleave:g,onDrop:B})}return Object.assign(q,{pickFiles:Q,addFiles:I}),{pickFiles:Q,addFiles:I,onDragover:$,onDragleave:g,processFiles:V,getDndNode:U,maxFilesNumber:b,maxTotalSizeNumber:T}}const Bt=Oe({name:"QFile",inheritAttrs:!1,props:{...lt,...Fe,...At,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...nt,...Et],setup(a,{slots:i,emit:F,attrs:u}){const{proxy:e}=re(),S=ot(),q=O(null),v=O(!1),N=st(a),{pickFiles:b,onDragover:T,onDragleave:Q,processFiles:I,getDndNode:V}=Vt({editable:S.editable,dnd:v,getFileInput:h,addFilesToQueue:C}),$=it(a),g=n(()=>Object(a.modelValue)===a.modelValue?"length"in a.modelValue?Array.from(a.modelValue):[a.modelValue]:[]),B=n(()=>De(g.value)),U=n(()=>g.value.map(d=>d.name).join(", ")),s=n(()=>dt(g.value.reduce((d,A)=>d+A.size,0))),m=n(()=>({totalSize:s.value,filesNumber:g.value.length,maxFiles:a.maxFiles})),M=n(()=>({tabindex:-1,type:"file",title:"",accept:a.accept,capture:a.capture,name:N.value,...u,id:S.targetUid.value,disabled:S.editable.value!==!0})),z=n(()=>"q-file q-field--auto-height"+(v.value===!0?" q-file--dnd":"")),f=n(()=>a.multiple===!0&&a.append===!0);function L(d){const A=g.value.slice();A.splice(d,1),o(A)}function H(d){const A=g.value.findIndex(d);A>-1&&L(A)}function o(d){F("update:modelValue",a.multiple===!0?d:d[0])}function l(d){d.keyCode===13&&ct(d)}function r(d){(d.keyCode===13||d.keyCode===32)&&b(d)}function h(){return q.value}function C(d,A){const G=I(d,A,g.value,f.value),te=h();te!=null&&(te.value=""),G!==void 0&&((a.multiple===!0?a.modelValue&&G.every(ue=>g.value.includes(ue)):a.modelValue===G[0])||o(f.value===!0?g.value.concat(G):G))}function R(){return[D("input",{class:[a.inputClass,"q-file__filler"],style:a.inputStyle})]}function x(){if(i.file!==void 0)return g.value.length===0?R():g.value.map((A,G)=>i.file({index:G,file:A,ref:this}));if(i.selected!==void 0)return g.value.length===0?R():i.selected({files:g.value,ref:this});if(a.useChips===!0)return g.value.length===0?R():g.value.map((A,G)=>D(Ot,{key:"file-"+G,removable:S.editable.value,dense:!0,textColor:a.color,tabindex:a.tabindex,onRemove:()=>{L(G)}},()=>D("span",{class:"ellipsis",textContent:A.name})));const d=a.displayValue!==void 0?a.displayValue:U.value;return d.length>0?[D("div",{class:a.inputClass,style:a.inputStyle,textContent:d})]:R()}function oe(){const d={ref:q,...M.value,...$.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:C};return a.multiple===!0&&(d.multiple=!0),D("input",d)}return Object.assign(S,{fieldClass:z,emitValue:o,hasValue:B,inputRef:q,innerValue:g,floatingLabel:n(()=>B.value===!0||De(a.displayValue)),computedCounter:n(()=>{if(a.counterLabel!==void 0)return a.counterLabel(m.value);const d=a.maxFiles;return`${g.value.length}${d!==void 0?" / "+d:""} (${s.value})`}),getControlChild:()=>V("file"),getControl:()=>{const d={ref:S.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:a.tabindex};return S.editable.value===!0&&Object.assign(d,{onDragover:T,onDragleave:Q,onKeydown:l,onKeyup:r}),D("div",d,[oe()].concat(x()))}}),Object.assign(e,{removeAtIndex:L,removeFile:H,getNativeElement:()=>q.value}),rt(e,"nativeEl",()=>q.value),ut(S)}}),Le="q-slider__marker-labels",zt=a=>({value:a}),jt=({marker:a})=>D("div",{key:a.value,style:a.style,class:a.classes},a.label),Ie=[34,37,40,33,39,38],Pt={...bt,...Fe,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:a=>a>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Ut=["pan","update:modelValue","change"];function Wt({updateValue:a,updatePosition:i,getDragging:F,formAttrs:u}){const{props:e,emit:S,slots:q,proxy:{$q:v}}=re(),N=mt(e,v),b=ht(u),T=O(!1),Q=O(!1),I=O(!1),V=O(!1),$=n(()=>e.vertical===!0?"--v":"--h"),g=n(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),B=n(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(v.lang.rtl===!0)),U=n(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),s=n(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),m=n(()=>e.disable!==!0&&e.readonly!==!0&&U.value<s.value),M=n(()=>(String(e.step).trim().split(".")[1]||"").length),z=n(()=>e.step===0?1:e.step),f=n(()=>m.value===!0?e.tabindex||0:-1),L=n(()=>e.max-e.min),H=n(()=>s.value-U.value),o=n(()=>de(U.value)),l=n(()=>de(s.value)),r=n(()=>e.vertical===!0?B.value===!0?"bottom":"top":B.value===!0?"right":"left"),h=n(()=>e.vertical===!0?"height":"width"),C=n(()=>e.vertical===!0?"width":"height"),R=n(()=>e.vertical===!0?"vertical":"horizontal"),x=n(()=>{const t={role:"slider","aria-valuemin":U.value,"aria-valuemax":s.value,"aria-orientation":R.value,"data-step":e.step};return e.disable===!0?t["aria-disabled"]="true":e.readonly===!0&&(t["aria-readonly"]="true"),t}),oe=n(()=>`q-slider q-slider${$.value} q-slider--${T.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(m.value===!0?" q-slider--editable":""))+(I.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(N.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+$.value:""));function d(t){const c="q-slider__"+t;return`${c} ${c}${$.value} ${c}${$.value}${g.value}`}function A(t){const c="q-slider__"+t;return`${c} ${c}${$.value}`}const G=n(()=>{const t=e.selectionColor||e.color;return"q-slider__selection absolute"+(t!==void 0?` text-${t}`:"")}),te=n(()=>A("markers")+" absolute overflow-hidden"),ue=n(()=>A("track-container")),Me=n(()=>d("pin")),Ne=n(()=>d("label")),Re=n(()=>d("text-container")),Ae=n(()=>d("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),Ee=n(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),Ve=n(()=>{const t={[C.value]:e.trackSize};return e.trackImg!==void 0&&(t.backgroundImage=`url(${e.trackImg}) !important`),t}),Be=n(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),he=n(()=>{const t={[r.value]:`${100*o.value}%`,[h.value]:`${100*(l.value-o.value)}%`};return e.innerTrackImg!==void 0&&(t.backgroundImage=`url(${e.innerTrackImg}) !important`),t});function ze(t){const{min:c,max:k,step:w}=e;let E=c+t*(k-c);if(w>0){const J=(E-c)%w;E+=(Math.abs(J)>=w/2?(J<0?-1:1)*w:0)-J}return M.value>0&&(E=parseFloat(E.toFixed(M.value))),ee(E,U.value,s.value)}function de(t){return L.value===0?0:(t-e.min)/L.value}function je(t,c){const k=pt(t),w=e.vertical===!0?ee((k.top-c.top)/c.height,0,1):ee((k.left-c.left)/c.width,0,1);return ee(B.value===!0?1-w:w,o.value,l.value)}const ye=n(()=>vt(e.markers)===!0?e.markers:z.value),Se=n(()=>{const t=[],c=ye.value,k=e.max;let w=e.min;do t.push(w),w+=c;while(w<k);return t.push(k),t}),Ce=n(()=>{const t=` ${Le}${$.value}-`;return Le+`${t}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${t}${B.value===!0?"rtl":"ltr"}`}),ce=n(()=>e.markerLabels===!1?null:Ue(e.markerLabels).map((t,c)=>({index:c,value:t.value,label:t.label||t.value,classes:Ce.value+(t.classes!==void 0?" "+t.classes:""),style:{...xe(t.value),...t.style||{}}}))),ke=n(()=>({markerList:ce.value,markerMap:We.value,classes:Ce.value,getStyle:xe})),Pe=n(()=>{if(H.value!==0){const t=100*ye.value/H.value;return{...he.value,backgroundSize:e.vertical===!0?`2px ${t}%`:`${t}% 2px`}}return null});function Ue(t){if(t===!1)return null;if(t===!0)return Se.value.map(zt);if(typeof t=="function")return Se.value.map(k=>{const w=t(k);return be(w)===!0?{...w,value:k}:{value:k,label:w}});const c=({value:k})=>k>=e.min&&k<=e.max;return Array.isArray(t)===!0?t.map(k=>be(k)===!0?k:{value:k}).filter(c):Object.keys(t).map(k=>{const w=t[k],E=Number(k);return be(w)===!0?{...w,value:E}:{value:E,label:w}}).filter(c)}function xe(t){return{[r.value]:`${100*(t-e.min)/L.value}%`}}const We=n(()=>{if(e.markerLabels===!1)return null;const t={};return ce.value.forEach(c=>{t[c.value]=c}),t});function Qe(){if(q["marker-label-group"]!==void 0)return q["marker-label-group"](ke.value);const t=q["marker-label"]||jt;return ce.value.map(c=>t({marker:c,...ke.value}))}const He=n(()=>[[Ft,Ge,void 0,{[R.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Ge(t){t.isFinal===!0?(V.value!==void 0&&(i(t.evt),t.touch===!0&&a(!0),V.value=void 0,S("pan","end")),T.value=!1,I.value=!1):t.isFirst===!0?(V.value=F(t.evt),i(t.evt),a(),T.value=!0,S("pan","start")):(i(t.evt),a())}function we(){I.value=!1}function Ke(t){i(t,F(t)),a(),Q.value=!0,T.value=!0,document.addEventListener("mouseup",me,!0)}function me(){Q.value=!1,T.value=!1,a(!0),we(),document.removeEventListener("mouseup",me,!0)}function Je(t){i(t,F(t)),a(!0)}function Ye(t){Ie.includes(t.keyCode)&&a(!0)}function Xe(t){if(e.vertical===!0)return null;const c=v.lang.rtl!==e.reverse?1-t:t;return{transform:`translateX(calc(${2*c-1} * ${e.thumbSize} / 2 + ${50-100*c}%))`}}function Ze(t){const c=n(()=>Q.value===!1&&(I.value===t.focusValue||I.value==="both")?" q-slider--focus":""),k=n(()=>`q-slider__thumb q-slider__thumb${$.value} q-slider__thumb${$.value}-${B.value===!0?"rtl":"ltr"} absolute non-selectable`+c.value+(t.thumbColor.value!==void 0?` text-${t.thumbColor.value}`:"")),w=n(()=>({width:e.thumbSize,height:e.thumbSize,[r.value]:`${100*t.ratio.value}%`,zIndex:I.value===t.focusValue?2:void 0})),E=n(()=>t.labelColor.value!==void 0?` text-${t.labelColor.value}`:""),J=n(()=>Xe(t.ratio.value)),ve=n(()=>"q-slider__text"+(t.labelTextColor.value!==void 0?` text-${t.labelTextColor.value}`:""));return()=>{const fe=[D("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[D("path",{d:e.thumbPath})]),D("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(fe.push(D("div",{class:Me.value+" absolute fit no-pointer-events"+E.value},[D("div",{class:Ne.value,style:{minWidth:e.thumbSize}},[D("div",{class:Re.value,style:J.value},[D("span",{class:ve.value},t.label.value)])])])),e.name!==void 0&&e.disable!==!0&&b(fe,"push")),D("div",{class:k.value,style:w.value,...t.getNodeData()},fe)}}function et(t,c,k,w){const E=[];e.innerTrackColor!=="transparent"&&E.push(D("div",{key:"inner",class:Be.value,style:he.value})),e.selectionColor!=="transparent"&&E.push(D("div",{key:"selection",class:G.value,style:t.value})),e.markers!==!1&&E.push(D("div",{key:"marker",class:te.value,style:Pe.value})),w(E);const J=[gt("div",{key:"trackC",class:ue.value,tabindex:c.value,...k.value},[D("div",{class:Ee.value,style:Ve.value},E)],"slide",m.value,()=>He.value)];if(e.markerLabels!==!1){const ve=e.switchMarkerLabelsSide===!0?"unshift":"push";J[ve](D("div",{key:"markerL",class:Ae.value},Qe()))}return J}return ft(()=>{document.removeEventListener("mouseup",me,!0)}),{state:{active:T,focus:I,preventFocus:Q,dragging:V,editable:m,classes:oe,tabindex:f,attributes:x,step:z,decimals:M,trackLen:L,innerMin:U,innerMinRatio:o,innerMax:s,innerMaxRatio:l,positionProp:r,sizeProp:h,isReversed:B},methods:{onActivate:Ke,onMobileClick:Je,onBlur:we,onKeyup:Ye,getContent:et,getThumbRenderFn:Ze,convertRatioToModel:ze,convertModelToRatio:de,getDraggingRatio:je}}}const Qt=()=>({}),Ht=Oe({name:"QSlider",props:{...Pt,modelValue:{required:!0,default:null,validator:a=>typeof a=="number"||a===null},labelValue:[String,Number]},emits:Ut,setup(a,{emit:i}){const{proxy:{$q:F}}=re(),{state:u,methods:e}=Wt({updateValue:$,updatePosition:B,getDragging:g,formAttrs:yt(a)}),S=O(null),q=O(0),v=O(0);function N(){v.value=a.modelValue===null?u.innerMin.value:ee(a.modelValue,u.innerMin.value,u.innerMax.value)}St(()=>`${a.modelValue}|${u.innerMin.value}|${u.innerMax.value}`,N),N();const b=n(()=>e.convertModelToRatio(v.value)),T=n(()=>u.active.value===!0?q.value:b.value),Q=n(()=>{const m={[u.positionProp.value]:`${100*u.innerMinRatio.value}%`,[u.sizeProp.value]:`${100*(T.value-u.innerMinRatio.value)}%`};return a.selectionImg!==void 0&&(m.backgroundImage=`url(${a.selectionImg}) !important`),m}),I=e.getThumbRenderFn({focusValue:!0,getNodeData:Qt,ratio:T,label:n(()=>a.labelValue!==void 0?a.labelValue:v.value),thumbColor:n(()=>a.thumbColor||a.color),labelColor:n(()=>a.labelColor),labelTextColor:n(()=>a.labelTextColor)}),V=n(()=>u.editable.value!==!0?{}:F.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:U,onBlur:e.onBlur,onKeydown:s,onKeyup:e.onKeyup});function $(m){v.value!==a.modelValue&&i("update:modelValue",v.value),m===!0&&i("change",v.value)}function g(){return S.value.getBoundingClientRect()}function B(m,M=u.dragging.value){const z=e.getDraggingRatio(m,M);v.value=e.convertRatioToModel(z),q.value=a.snap!==!0||a.step===0?z:e.convertModelToRatio(v.value)}function U(){u.focus.value=!0}function s(m){if(!Ie.includes(m.keyCode))return;ge(m);const M=([34,33].includes(m.keyCode)?10:1)*u.step.value,z=([34,37,40].includes(m.keyCode)?-1:1)*(u.isReversed.value===!0?-1:1)*(a.vertical===!0?-1:1)*M;v.value=ee(parseFloat((v.value+z).toFixed(u.decimals.value)),u.innerMin.value,u.innerMax.value),$()}return()=>{const m=e.getContent(Q,u.tabindex,V,M=>{M.push(I())});return D("div",{ref:S,class:u.classes.value+(a.modelValue===null?" q-slider--no-value":""),...u.attributes.value,"aria-valuenow":a.modelValue},m)}}});function $e(a){setTimeout(()=>{window.URL.revokeObjectURL(a.href)},1e4),a.remove()}function Gt(a,i,F={}){const{mimeType:u,byteOrderMark:e,encoding:S}=typeof F=="string"?{mimeType:F}:F,q=S!==void 0?new TextEncoder(S).encode([i]):i,v=e!==void 0?[e,q]:[q],N=new Blob(v,{type:u||"application/octet-stream"}),b=document.createElement("a");b.href=window.URL.createObjectURL(N),b.setAttribute("download",a),typeof b.download>"u"&&b.setAttribute("target","_blank"),b.classList.add("hidden"),b.style.position="fixed",document.body.appendChild(b);try{return b.click(),$e(b),!0}catch(T){return $e(b),T}}const Kt=_("div",{class:"text-h6 q-mb-md"},"Options",-1),Jt=_("div",{class:"q-mb-md"}," Introduction provides helpful instructions on basic app usage on the Dashboard page. ",-1),Yt=_("div",{class:"q-mb-md"},"Show descriptions for records displayed on the Dashboard page.",-1),Xt=_("div",{class:"q-mb-md"}," Dark Mode allows you to switch between a light or dark theme for the app. ",-1),Zt=_("div",{class:"q-mb-md"}," Show all columns while viewing on the data page or only show the default columns. You can change the individual columns while on the page. ",-1),ea=_("div",{class:"text-h6 q-mb-md"},"Defaults",-1),ta=_("div",{class:"q-mb-md"}," Load default demostration records into the database. This action can be repeated. ",-1),aa=_("div",{class:"text-h6 q-mb-md"},"Data Management",-1),la=_("div",{class:"q-mb-md"}," Import data into the database from a JSON file. The app expects the data in the file to be structured the same as the exported version. ",-1),na=_("div",{class:"q-mb-md"}," Export the selected data types as a JSON file. Do this on a regularly basis so you have a backup of your data. ",-1),oa=_("div",{class:"q-mb-md"}," Access any app data types to view the records or troubleshoot issues. ",-1),sa=_("div",{class:"q-mb-md"}," Examine and fix any issues with your data on the Record Curing page. Records on this page are either unused, orphaned, or missing data properties. ",-1),ia=_("div",{class:"text-h6 q-mb-md"},"Logs",-1),ra=_("div",{class:"q-mb-md"}," Show Console Logs will display all log messages in the browser console. ",-1),ua=_("div",{class:"q-mb-md"},"Show Info Messages will display info level notifications.",-1),da=_("div",{class:"q-mb-md"}," Validate that your logging settings above are working as expected by using the test action below. ",-1),ca=_("div",{class:"q-mb-md"}," Change log retention time below. Logs older than the selected time will be deleted. This functions retroactivley, so if you change the time to 3 months, all logs older than 3 months will be deleted. Expired log processing occurs every time the app is loaded. ",-1),ma=_("div",{class:"text-h6 text-negative q-mb-md"},"DANGER ZONE",-1),va=_("div",{class:"q-mb-md"}," The following operations cannot be undone. Consider exporting your data before proceeding. ",-1),fa=_("div",{class:"q-mb-md"},"Select a data type and permanently delete all of its records.",-1),ba=_("div",{class:"q-mb-md"},"Permanently delete all data records from the database.",-1),pa=_("div",{class:"q-mb-md"}," Delete the underlining database and all of its data (requires website reload). ",-1),La=Ct({__name:"SettingsView",setup(a){kt({title:`${se} - Settings`});const{log:i}=xt(),{notify:F}=wt(),{confirmDialog:u}=It(),{goToData:e,goToRecordCuring:S}=Nt(),{onDefaults:q}=Mt(),v=O([]),N=O(0),b=O(null),T=O([]),Q=Object.values(ae).map(o=>({value:o,label:o})),I=O(Object.values(ae)),V=O(I.value[0]),$=O(Object.values(ae)),g=O($.value[0]),B=j.liveSettings().subscribe({next:o=>{var r;v.value=o;const l=(r=o.find(h=>h.id===W.LOG_RETENTION_TIME))==null?void 0:r.value;N.value=Object.values(pe).findIndex(h=>h===l)},error:o=>{i.error("Error loading live settings",o)}});Dt(()=>{B.unsubscribe()});function U(){i.debug("This is a Debug Log",{name:"Debug"}),i.info("This is an Info Log",{name:"Info"}),i.warn("This is a Warning Log",{name:"Warning"}),i.error("This is an Error Log",{name:"Error"})}function s(o){var r,h;const l=((h=(r=o[0])==null?void 0:r.importFile)==null?void 0:h.name)||void 0;i.warn(`Cannot import "${l}"`,o)}function m(){var o;u("Import Data",`Import file ${(o=b==null?void 0:b.value)==null?void 0:o.name} and attempt to load data from it?`,Y.INFO,"info",async()=>{try{const l=JSON.parse(await b.value.text());i.silentDebug("parsedFileData =",l);const{appName:r,records:h}=l;if(r!==se)throw new Error(`Cannot import data from this app: ${r} `);const C=Object.values(ae),R=h==null?void 0:h.filter(x=>C.includes(x.type));i.silentDebug("importedData =",R),await j.bulkAddRecords(R),b.value=null,i.info("Successfully imported available data")}catch(l){i.error("Import failed",l)}})}function M(o){const l=se.toLowerCase().split(" ").join("-"),r=new Date().toISOString().split("T")[0],h=`export-${l}-${r}.json`;u("Export Data",`Export all selected data types as the file ${h}?`,Y.INFO,"info",async()=>{try{const R=(await j.getAllRecords()).filter(d=>o.includes(d.type)),x={appName:se,exportedTimestamp:new Date().getTime(),recordsCount:R.length,records:R};if(i.silentDebug("exportData =",x),Gt(h,JSON.stringify(x),{encoding:"UTF-8",mimeType:"application/json"})===!0)i.info("File downloaded successfully",{filename:h});else throw new Error("Browser denied file download")}catch(C){i.error("Export failed",C)}})}async function z(o){try{const l=Object.values(pe)[o];await j.setSetting(W.LOG_RETENTION_TIME,l),i.info("Updated log retention time",{time:l,index:o})}catch(l){i.error("Log retention update failed",l)}}async function f(o){u(`Delete ${o} Data`,`Permanetly delete all ${o} data from the database?`,Y.CLEAR,"negative",async()=>{try{await j.clearRecordsByType(o),await j.initSettings(),i.info(`${o} data successfully deleted`)}catch(l){i.error(`Error deleting ${o} data`,l)}})}async function L(){u("Delete All Data","Permanetly delete all data from the database?",Y.CLEAR,"negative",async()=>{try{await Promise.all(Object.values(ae).map(async o=>await j.clearRecordsByType(o))),await j.initSettings(),i.info("All data successfully deleted")}catch(o){i.error("Error deleting all data",o)}})}async function H(){u("Delete Database","Delete the underlining database? All data will be lost. You must reload the website after this action to reinitialize the database.",Y.CLEAR,"negative",async()=>{try{await j.deleteDatabase(),F("Reload the website now",Y.WARN,"warning")}catch(o){i.error("Database deletion failed",o)}})}return(o,l)=>(_e(),Te(Rt,{bannerIcon:y(Y).SETTINGS,bannerTitle:"Settings"},{default:P(()=>[p(ne,{class:"q-mb-md"},{default:P(()=>[p(le,null,{default:P(()=>{var r,h,C,R;return[Kt,Jt,p(X,{class:"q-mb-md",label:"Show Introduction","model-value":(r=v.value.find(x=>x.id===y(W).SHOW_INTRODUCTION))==null?void 0:r.value,"onUpdate:modelValue":l[0]||(l[0]=x=>y(j).setSetting(y(W).SHOW_INTRODUCTION,x))},null,8,["model-value"]),Yt,p(X,{class:"q-mb-md",label:"Show Dashboard Descriptions","model-value":(h=v.value.find(x=>x.id===y(W).SHOW_DASHBOARD_DESCRIPTIONS))==null?void 0:h.value,"onUpdate:modelValue":l[1]||(l[1]=x=>y(j).setSetting(y(W).SHOW_DASHBOARD_DESCRIPTIONS,x))},null,8,["model-value"]),Xt,p(X,{class:"q-mb-md",label:"Dark Mode","model-value":(C=v.value.find(x=>x.id===y(W).DARK_MODE))==null?void 0:C.value,"onUpdate:modelValue":l[2]||(l[2]=x=>y(j).setSetting(y(W).DARK_MODE,x))},null,8,["model-value"]),Zt,p(X,{label:"Show All Data Columns","model-value":(R=v.value.find(x=>x.id===y(W).SHOW_ALL_DATA_COLUMNS))==null?void 0:R.value,"onUpdate:modelValue":l[3]||(l[3]=x=>y(j).setSetting(y(W).SHOW_ALL_DATA_COLUMNS,x))},null,8,["model-value"])]}),_:1})]),_:1}),p(ne,{class:"q-mb-md"},{default:P(()=>[p(le,null,{default:P(()=>[ea,ta,p(K,{label:"Load Examples",color:"primary",onClick:l[4]||(l[4]=r=>y(q)())})]),_:1})]),_:1}),p(ne,{class:"q-mb-md"},{default:P(()=>[p(le,null,{default:P(()=>[aa,la,p(Bt,{modelValue:b.value,"onUpdate:modelValue":l[7]||(l[7]=r=>b.value=r),dense:"",outlined:"",counter:"","bottom-slots":"",label:"File Select","max-file-size":y(_t).MAX_FILE_SIZE,accept:"application/json",onRejected:s},{before:P(()=>[p(K,{disable:!b.value,label:"Import",color:"primary",onClick:l[5]||(l[5]=r=>m())},null,8,["disable"])]),append:P(()=>[b.value?(_e(),Te(Tt,{key:0,name:y(Y).CLOSE,class:"cursor-pointer",onClick:l[6]||(l[6]=qt(r=>b.value=null,["stop"]))},null,8,["name"])):Lt("",!0)]),_:1},8,["modelValue","max-file-size"]),na,p($t,{class:"q-mb-md",modelValue:T.value,"onUpdate:modelValue":l[8]||(l[8]=r=>T.value=r),options:y(Q),type:"checkbox"},null,8,["modelValue","options"]),p(K,{class:"q-mb-md",disable:T.value.length===0,label:"Export",color:"primary",onClick:l[9]||(l[9]=r=>M(T.value))},null,8,["disable"]),oa,p(qe,{modelValue:V.value,"onUpdate:modelValue":l[11]||(l[11]=r=>V.value=r),outlined:"",dense:"",label:"Database Type",options:I.value,class:"q-mb-md"},{before:P(()=>[p(K,{disable:!V.value,label:"Access Data",color:"primary",onClick:l[10]||(l[10]=r=>y(e)(V.value))},null,8,["disable"])]),_:1},8,["modelValue","options"]),sa,p(K,{label:"Record Curing",color:"primary",onClick:l[12]||(l[12]=r=>y(S)())})]),_:1})]),_:1}),p(ne,{class:"q-mb-md"},{default:P(()=>[p(le,null,{default:P(()=>{var r,h;return[ia,ra,p(X,{class:"q-mb-md",label:"Show Console Logs","model-value":(r=v.value.find(C=>C.id===y(W).SHOW_CONSOLE_LOGS))==null?void 0:r.value,"onUpdate:modelValue":l[13]||(l[13]=C=>y(j).setSetting(y(W).SHOW_CONSOLE_LOGS,C))},null,8,["model-value"]),ua,p(X,{class:"q-mb-md",label:"Show Info Messages","model-value":(h=v.value.find(C=>C.id===y(W).SHOW_INFO_MESSAGES))==null?void 0:h.value,"onUpdate:modelValue":l[14]||(l[14]=C=>y(j).setSetting(y(W).SHOW_INFO_MESSAGES,C))},null,8,["model-value"]),da,p(K,{class:"q-mb-md",label:"Test Logger",color:"primary",onClick:l[15]||(l[15]=C=>U())}),ca,p(Ht,{modelValue:N.value,"onUpdate:modelValue":l[16]||(l[16]=C=>N.value=C),"label-value":Object.values(y(pe))[N.value],class:"q-mb-lg",color:"primary",markers:"","label-always":"","switch-label-side":"",min:0,max:5,step:1,onChange:l[17]||(l[17]=C=>z(C))},null,8,["modelValue","label-value"])]}),_:1})]),_:1}),p(ne,{class:"q-mb-md"},{default:P(()=>[p(le,null,{default:P(()=>[ma,va,fa,p(qe,{modelValue:g.value,"onUpdate:modelValue":l[19]||(l[19]=r=>g.value=r),outlined:"",dense:"",label:"Database Type",class:"q-mb-md",options:$.value},{before:P(()=>[p(K,{disable:!g.value,label:"Delete Data",color:"negative",onClick:l[18]||(l[18]=r=>f(g.value))},null,8,["disable"])]),_:1},8,["modelValue","options"]),ba,p(K,{class:"q-mb-md",label:"Delete All Data",color:"negative",onClick:l[20]||(l[20]=r=>L())}),pa,p(K,{label:"Delete Database",color:"negative",onClick:l[21]||(l[21]=r=>H())})]),_:1})]),_:1})]),_:1},8,["bannerIcon"]))}});export{La as default};
