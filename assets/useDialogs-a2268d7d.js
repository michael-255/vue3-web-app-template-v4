import{g as A,r as z,k as H,m as l,n as D,w as s,x as t,C as R,p as o,q as y,aM as V,Q as $,t as q,v as g,K as Q,T as E,z as x,B as L,$ as N,Z as P,D as S,am as G,Y as F,I as O,aN as K,aO as M,G as u,M as w,L as I,O as U,aG as d,an as Y,aP as W}from"./index-b39cb04c.js";import{u as Z}from"./action-f57882ca.js";import{Q as J}from"./QSelect-78da7caa.js";import{_ as X}from"./ErrorStates.vue_vue_type_script_setup_true_lang-4cea3e11.js";import{u as ee}from"./ui-efd5ca96.js";const oe=()=>!0;function te(i){const a={};return i.forEach(r=>{a[r]=oe}),a}function h(){const{emit:i,proxy:a}=A(),r=z(null);function m(){r.value.show()}function c(){r.value.hide()}function e(_){i("ok",_),c()}function n(){i("hide")}return Object.assign(a,{show:m,hide:c}),{dialogRef:r,onDialogHide:n,onDialogOK:e,onDialogCancel:c}}const j=["ok","hide"];h.emits=j;h.emitsObject=te(j);const ne={class:"text-h6"},se=H({__name:"ConfirmationDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:m,onDialogOK:c,onDialogCancel:e}=h();return(n,_)=>(l(),D(R,{ref_key:"dialogRef",ref:r,onHide:t(m)},{default:s(()=>[o(L,{class:"q-dialog-plugin"},{default:s(()=>[o(y,{class:V(`bg-${a.color} text-white q-py-sm`)},{default:s(()=>[o($,{name:n.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),q("span",ne,g(n.title),1)]),_:1},8,["class"]),o(y,{class:"q-mt-md"},{default:s(()=>[Q(g(n.message),1)]),_:1}),o(E,{align:"right"},{default:s(()=>[o(x,{flat:"",label:"Cancel",onClick:t(e)},null,8,["onClick"]),o(x,{flat:"",label:"Confirm",color:n.color,onClick:t(c)},null,8,["color","onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ae={class:"text-h6"},le=H({__name:"DismissalDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:m,onDialogOK:c}=h();return(e,n)=>(l(),D(R,{ref_key:"dialogRef",ref:r,onHide:t(m)},{default:s(()=>[o(L,{class:"q-dialog-plugin"},{default:s(()=>[o(y,{class:V(`bg-${a.color} text-white q-py-sm`)},{default:s(()=>[o($,{name:e.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),q("span",ae,g(e.title),1)]),_:1},8,["class"]),o(y,{class:"q-mt-md"},{default:s(()=>[Q(g(e.message),1)]),_:1}),o(E,{align:"right"},{default:s(()=>[o(x,{flat:"",label:"Dismiss",onClick:t(c)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ie={class:"text-h5"},re={key:0},ce={class:"text-weight-bold text-body1"},de={key:0},ue={key:1},me={key:2},pe=H({__name:"InspectionDialog",props:{record:{},table:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:m,onDialogOK:c}=h(),e=Z(),n=a.table===N.LOGS?P.getInspectionItems():S.getInspectionItems(a.table),_=a.table===N.LOGS?P.getLabel("singular"):S.getLabel(a.table,"singular");return G(!0,e.record,a.record),F(()=>{e.$reset()}),(k,T)=>(l(),D(R,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:t(m)},{default:s(()=>[o(M,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[o($,{name:t(O).INSPECT,size:"sm",class:"q-mx-sm"},null,8,["name"]),o(K,null,{default:s(()=>[Q("Inspect")]),_:1}),o(x,{flat:"",round:"",icon:t(O).CLOSE,onClick:t(c)},null,8,["icon","onClick"])]),_:1}),o(L,{class:"q-dialog-plugin"},{default:s(()=>[o(y,null,{default:s(()=>[q("p",ie,g(t(_)),1),(l(!0),u(I,null,w(t(n),(p,b)=>(l(),u("div",{key:b,class:"q-mb-md"},[t(e).record[p.field]!==void 0?(l(),u("div",re,[q("div",ce,g(p.label),1),p.output==="single"?(l(),u("div",de,g(p.format(t(e).record[p.field])),1)):p.output==="list"?(l(),u("div",ue,[(l(!0),u(I,null,w(t(e).record[p.field],(C,f)=>(l(),u("li",{key:f,class:"q-ml-sm"},g(p.format(C)),1))),128))])):(l(),u("div",me,[(l(!0),u(I,null,w(t(e).record[p.field],(C,f)=>(l(),u("li",{key:f,class:"q-ml-sm"},g(f)+": "+g(C),1))),128))]))])):U("",!0)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),fe={class:"text-h5"},ge=q("p",null,"Select how far back you want the charts to display.",-1),_e=H({__name:"ChartingDialog",props:{id:{},parentTable:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:m,onDialogOK:c}=h(),e=ee(),n=z(null),_=z([d[d["One Week"]],d[d["One Month"]],d[d["Three Months"]],d[d["Six Months"]],d[d["One Year"]],d[d["All Time"]]]),k=S.getChartComponents(a.parentTable),T=S.getLabel(a.parentTable,"singular");function p(b){return b!=null&&b!==""}return(b,C)=>(l(),D(R,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:t(m)},{default:s(()=>[o(M,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[o($,{name:t(O).CHARTS,size:"sm",class:"q-mx-sm"},null,8,["name"]),o(K,null,{default:s(()=>[Q("Charts")]),_:1}),o(x,{flat:"",round:"",icon:t(O).CLOSE,onClick:t(c)},null,8,["icon","onClick"])]),_:1}),o(L,{class:"q-dialog-plugin"},{default:s(()=>[t(k).length>0?(l(),D(y,{key:0},{default:s(()=>[q("p",fe,g(t(T)),1),ge,o(J,{modelValue:t(e).chartTime,"onUpdate:modelValue":C[0]||(C[0]=f=>t(e).chartTime=f),ref_key:"inputRef",ref:n,label:"Chart Time",options:_.value,rules:[f=>p(f)||"Required"],"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",onBlur:C[1]||(C[1]=f=>{var v,B;return!!((B=(v=n.value)==null?void 0:v.value)!=null&&B.validate())})},null,8,["modelValue","options","rules"]),(l(!0),u(I,null,w(t(k),(f,v)=>(l(),u("div",{key:v,class:"q-mb-md"},[(l(),D(Y(f),{id:b.id,parentTable:b.parentTable},null,8,["id","parentTable"]))]))),128))]),_:1})):(l(),D(X,{key:1,error:"no-data"}))]),_:1})]),_:1},8,["onHide"]))}});function ye(){const i=W();function a(e,n,_,k,T){i.dialog({component:se,componentProps:{title:e,message:n,icon:_,color:k}}).onOk(()=>{T()})}function r(e,n,_=O.INFO,k="info"){i.dialog({component:le,componentProps:{title:e,message:n,icon:_,color:k}})}function m(e,n){i.dialog({component:pe,componentProps:{record:e,table:n}})}function c(e,n){i.dialog({component:_e,componentProps:{id:e,parentTable:n}})}return{confirmDialog:a,dismissDialog:r,inspectDialog:m,chartsDialog:c}}export{ye as u};
