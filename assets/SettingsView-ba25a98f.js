import{s as ue,r as O,z as n,aj as tt,ag as ge,ak as at,v as T,q as Fe,al as lt,am as Oe,an as nt,ao as ot,ap as st,aq as it,a0 as rt,ar as ut,as as we,at as ct,au as dt,C as vt,W as mt,Y as be,O as ft,B as pt,av as te,aw as bt,ax as gt,ay as ht,az as yt,E as St,d as kt,u as Ct,A as se,a as _t,aA as xt,D as wt,b as U,K as Q,aB as ie,o as Tt,c as Te,e as Ee,w as P,f as y,Q as le,l as d,n as X,aC as ne,h as w,i as oe,aD as Et,m as Dt,I as J,aE as Lt,a4 as $t,g as Ft,T as R}from"./index-aa65fb50.js";import{b as Ot,Q as De}from"./QSelect-5c5b8d5a.js";import{T as Nt}from"./TouchPan-6c8f080b.js";import{u as Mt}from"./useDialogs-f212f341.js";import{u as It}from"./useDefaults-928c4299.js";import{u as Rt}from"./useRoutables-e4e4cb76.js";import{_ as qt}from"./ResponsivePage.vue_vue_type_script_setup_true_lang-b38b31a5.js";import"./QItem-4a774405.js";import"./QItemLabel-aa6ab2e3.js";import"./QMenu-514d03ae.js";import"./selection-cbc30095.js";import"./SimpleDialog.vue_vue_type_script_setup_true_lang-93913e9b.js";function ee(a,i,N,r){const e=[];return a.forEach(C=>{r(C)===!0?e.push(C):i.push({failedPropValidation:N,file:C})}),e}function re(a){a&&a.dataTransfer&&(a.dataTransfer.dropEffect="copy"),ge(a)}const At={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Vt=["rejected"];function zt({editable:a,dnd:i,getFileInput:N,addFilesToQueue:r}){const{props:e,emit:C,proxy:E}=ue(),S=O(null),q=n(()=>e.accept!==void 0?e.accept.split(",").map(s=>(s=s.trim(),s==="*"?"*/":(s.endsWith("/*")&&(s=s.slice(0,s.length-1)),s.toUpperCase()))):null),b=n(()=>parseInt(e.maxFiles,10)),D=n(()=>parseInt(e.maxTotalSize,10));function W(s){if(a.value)if(s!==Object(s)&&(s={target:null}),s.target!==null&&s.target.matches('input[type="file"]')===!0)s.clientX===0&&s.clientY===0&&tt(s);else{const m=N();m&&m!==s.target&&m.click(s)}}function M(s){a.value&&s&&r(null,s)}function V(s,m,I,B){let f=Array.from(m||s.target.files);const L=[],G=()=>{L.length!==0&&C("rejected",L)};if(e.accept!==void 0&&q.value.indexOf("*/")===-1&&(f=ee(f,L,"accept",p=>q.value.some(k=>p.type.toUpperCase().startsWith(k)||p.name.toUpperCase().endsWith(k))),f.length===0))return G();if(e.maxFileSize!==void 0){const p=parseInt(e.maxFileSize,10);if(f=ee(f,L,"max-file-size",k=>k.size<=p),f.length===0)return G()}if(e.multiple!==!0&&f.length!==0&&(f=[f[0]]),f.forEach(p=>{p.__key=p.webkitRelativePath+p.lastModified+p.name+p.size}),B===!0){const p=I.map(k=>k.__key);f=ee(f,L,"duplicate",k=>p.includes(k.__key)===!1)}if(f.length===0)return G();if(e.maxTotalSize!==void 0){let p=B===!0?I.reduce((k,u)=>k+u.size,0):0;if(f=ee(f,L,"max-total-size",k=>(p+=k.size,p<=D.value)),f.length===0)return G()}if(typeof e.filter=="function"){const p=e.filter(f);f=ee(f,L,"filter",k=>p.includes(k))}if(e.maxFiles!==void 0){let p=B===!0?I.length:0;if(f=ee(f,L,"max-files",()=>(p++,p<=b.value)),f.length===0)return G()}if(G(),f.length!==0)return f}function F(s){re(s),i.value!==!0&&(i.value=!0)}function g(s){ge(s),(s.relatedTarget!==null||at.is.safari!==!0?s.relatedTarget!==S.value:document.elementsFromPoint(s.clientX,s.clientY).includes(S.value)===!1)===!0&&(i.value=!1)}function z(s){re(s);const m=s.dataTransfer.files;m.length!==0&&r(null,m),i.value=!1}function j(s){if(i.value===!0)return T("div",{ref:S,class:`q-${s}__dnd absolute-full`,onDragenter:re,onDragover:re,onDragleave:g,onDrop:z})}return Object.assign(E,{pickFiles:W,addFiles:M}),{pickFiles:W,addFiles:M,onDragover:F,onDragleave:g,processFiles:V,getDndNode:j,maxFilesNumber:b,maxTotalSizeNumber:D}}const Bt=Fe({name:"QFile",inheritAttrs:!1,props:{...lt,...Oe,...At,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...nt,...Vt],setup(a,{slots:i,emit:N,attrs:r}){const{proxy:e}=ue(),C=ot(),E=O(null),S=O(!1),q=st(a),{pickFiles:b,onDragover:D,onDragleave:W,processFiles:M,getDndNode:V}=zt({editable:C.editable,dnd:S,getFileInput:l,addFilesToQueue:o}),F=it(a),g=n(()=>Object(a.modelValue)===a.modelValue?"length"in a.modelValue?Array.from(a.modelValue):[a.modelValue]:[]),z=n(()=>we(g.value)),j=n(()=>g.value.map(c=>c.name).join(", ")),s=n(()=>ct(g.value.reduce((c,$)=>c+$.size,0))),m=n(()=>({totalSize:s.value,filesNumber:g.value.length,maxFiles:a.maxFiles})),I=n(()=>({tabindex:-1,type:"file",title:"",accept:a.accept,capture:a.capture,name:q.value,...r,id:C.targetUid.value,disabled:C.editable.value!==!0})),B=n(()=>"q-file q-field--auto-height"+(S.value===!0?" q-file--dnd":"")),f=n(()=>a.multiple===!0&&a.append===!0);function L(c){const $=g.value.slice();$.splice(c,1),p($)}function G(c){const $=g.value.indexOf(c);$>-1&&L($)}function p(c){N("update:modelValue",a.multiple===!0?c:c[0])}function k(c){c.keyCode===13&&dt(c)}function u(c){(c.keyCode===13||c.keyCode===32)&&b(c)}function l(){return E.value}function o(c,$){const H=M(c,$,g.value,f.value),ae=l();ae!=null&&(ae.value=""),H!==void 0&&((a.multiple===!0?a.modelValue&&H.every(ce=>g.value.includes(ce)):a.modelValue===H[0])||p(f.value===!0?g.value.concat(H):H))}function h(){return[T("input",{class:[a.inputClass,"q-file__filler"],style:a.inputStyle})]}function K(){if(i.file!==void 0)return g.value.length===0?h():g.value.map(($,H)=>i.file({index:H,file:$,ref:this}));if(i.selected!==void 0)return g.value.length===0?h():i.selected({files:g.value,ref:this});if(a.useChips===!0)return g.value.length===0?h():g.value.map(($,H)=>T(Ot,{key:"file-"+H,removable:C.editable.value,dense:!0,textColor:a.color,tabindex:a.tabindex,onRemove:()=>{L(H)}},()=>T("span",{class:"ellipsis",textContent:$.name})));const c=a.displayValue!==void 0?a.displayValue:j.value;return c.length!==0?[T("div",{class:a.inputClass,style:a.inputStyle,textContent:c})]:h()}function Z(){const c={ref:E,...I.value,...F.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:o};return a.multiple===!0&&(c.multiple=!0),T("input",c)}return Object.assign(C,{fieldClass:B,emitValue:p,hasValue:z,inputRef:E,innerValue:g,floatingLabel:n(()=>z.value===!0||we(a.displayValue)),computedCounter:n(()=>{if(a.counterLabel!==void 0)return a.counterLabel(m.value);const c=a.maxFiles;return`${g.value.length}${c!==void 0?" / "+c:""} (${s.value})`}),getControlChild:()=>V("file"),getControl:()=>{const c={ref:C.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:a.tabindex};return C.editable.value===!0&&Object.assign(c,{onDragover:D,onDragleave:W,onKeydown:k,onKeyup:u}),T("div",c,[Z()].concat(K()))}}),Object.assign(e,{removeAtIndex:L,removeFile:G,getNativeElement:()=>E.value}),rt(e,"nativeEl",()=>E.value),ut(C)}}),Le="q-slider__marker-labels",Pt=a=>({value:a}),jt=({marker:a})=>T("div",{key:a.value,style:a.style,class:a.classes},a.label),Ne=[34,37,40,33,39,38],Ut={...pt,...Oe,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:a=>a>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Wt=["pan","update:modelValue","change"];function Gt({updateValue:a,updatePosition:i,getDragging:N,formAttrs:r}){const{props:e,emit:C,slots:E,proxy:{$q:S}}=ue(),q=vt(e,S),b=ht(r),D=O(!1),W=O(!1),M=O(!1),V=O(!1),F=n(()=>e.vertical===!0?"--v":"--h"),g=n(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),z=n(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(S.lang.rtl===!0)),j=n(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),s=n(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),m=n(()=>e.disable!==!0&&e.readonly!==!0&&j.value<s.value),I=n(()=>(String(e.step).trim().split(".")[1]||"").length),B=n(()=>e.step===0?1:e.step),f=n(()=>m.value===!0?e.tabindex||0:-1),L=n(()=>e.max-e.min),G=n(()=>s.value-j.value),p=n(()=>de(j.value)),k=n(()=>de(s.value)),u=n(()=>e.vertical===!0?z.value===!0?"bottom":"top":z.value===!0?"right":"left"),l=n(()=>e.vertical===!0?"height":"width"),o=n(()=>e.vertical===!0?"width":"height"),h=n(()=>e.vertical===!0?"vertical":"horizontal"),K=n(()=>{const t={role:"slider","aria-valuemin":j.value,"aria-valuemax":s.value,"aria-orientation":h.value,"data-step":e.step};return e.disable===!0?t["aria-disabled"]="true":e.readonly===!0&&(t["aria-readonly"]="true"),t}),Z=n(()=>`q-slider q-slider${F.value} q-slider--${D.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(m.value===!0?" q-slider--editable":""))+(M.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(q.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+F.value:""));function c(t){const v="q-slider__"+t;return`${v} ${v}${F.value} ${v}${F.value}${g.value}`}function $(t){const v="q-slider__"+t;return`${v} ${v}${F.value}`}const H=n(()=>{const t=e.selectionColor||e.color;return"q-slider__selection absolute"+(t!==void 0?` text-${t}`:"")}),ae=n(()=>$("markers")+" absolute overflow-hidden"),ce=n(()=>$("track-container")),Me=n(()=>c("pin")),Ie=n(()=>c("label")),Re=n(()=>c("text-container")),qe=n(()=>c("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),Ae=n(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),Ve=n(()=>{const t={[o.value]:e.trackSize};return e.trackImg!==void 0&&(t.backgroundImage=`url(${e.trackImg}) !important`),t}),ze=n(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),he=n(()=>{const t={[u.value]:`${100*p.value}%`,[l.value]:`${100*(k.value-p.value)}%`};return e.innerTrackImg!==void 0&&(t.backgroundImage=`url(${e.innerTrackImg}) !important`),t});function Be(t){const{min:v,max:_,step:x}=e;let A=v+t*(_-v);if(x>0){const Y=(A-v)%x;A+=(Math.abs(Y)>=x/2?(Y<0?-1:1)*x:0)-Y}return I.value>0&&(A=parseFloat(A.toFixed(I.value))),te(A,j.value,s.value)}function de(t){return L.value===0?0:(t-e.min)/L.value}function Pe(t,v){const _=bt(t),x=e.vertical===!0?te((_.top-v.top)/v.height,0,1):te((_.left-v.left)/v.width,0,1);return te(z.value===!0?1-x:x,p.value,k.value)}const ye=n(()=>mt(e.markers)===!0?e.markers:B.value),Se=n(()=>{const t=[],v=ye.value,_=e.max;let x=e.min;do t.push(x),x+=v;while(x<_);return t.push(_),t}),ke=n(()=>{const t=` ${Le}${F.value}-`;return Le+`${t}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${t}${z.value===!0?"rtl":"ltr"}`}),ve=n(()=>e.markerLabels===!1?null:Ue(e.markerLabels).map((t,v)=>({index:v,value:t.value,label:t.label||t.value,classes:ke.value+(t.classes!==void 0?" "+t.classes:""),style:{..._e(t.value),...t.style||{}}}))),Ce=n(()=>({markerList:ve.value,markerMap:We.value,classes:ke.value,getStyle:_e})),je=n(()=>{if(G.value!==0){const t=100*ye.value/G.value;return{...he.value,backgroundSize:e.vertical===!0?`2px ${t}%`:`${t}% 2px`}}return null});function Ue(t){if(t===!1)return null;if(t===!0)return Se.value.map(Pt);if(typeof t=="function")return Se.value.map(_=>{const x=t(_);return be(x)===!0?{...x,value:_}:{value:_,label:x}});const v=({value:_})=>_>=e.min&&_<=e.max;return Array.isArray(t)===!0?t.map(_=>be(_)===!0?_:{value:_}).filter(v):Object.keys(t).map(_=>{const x=t[_],A=Number(_);return be(x)===!0?{...x,value:A}:{value:A,label:x}}).filter(v)}function _e(t){return{[u.value]:`${100*(t-e.min)/L.value}%`}}const We=n(()=>{if(e.markerLabels===!1)return null;const t={};return ve.value.forEach(v=>{t[v.value]=v}),t});function Ge(){if(E["marker-label-group"]!==void 0)return E["marker-label-group"](Ce.value);const t=E["marker-label"]||jt;return ve.value.map(v=>t({marker:v,...Ce.value}))}const Qe=n(()=>[[Nt,He,void 0,{[h.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function He(t){t.isFinal===!0?(V.value!==void 0&&(i(t.evt),t.touch===!0&&a(!0),V.value=void 0,C("pan","end")),D.value=!1,M.value=!1):t.isFirst===!0?(V.value=N(t.evt),i(t.evt),a(),D.value=!0,C("pan","start")):(i(t.evt),a())}function xe(){M.value=!1}function Ke(t){i(t,N(t)),a(),W.value=!0,D.value=!0,document.addEventListener("mouseup",me,!0)}function me(){W.value=!1,D.value=!1,a(!0),xe(),document.removeEventListener("mouseup",me,!0)}function Xe(t){i(t,N(t)),a(!0)}function Je(t){Ne.includes(t.keyCode)&&a(!0)}function Ye(t){if(e.vertical===!0)return null;const v=S.lang.rtl!==e.reverse?1-t:t;return{transform:`translateX(calc(${2*v-1} * ${e.thumbSize} / 2 + ${50-100*v}%))`}}function Ze(t){const v=n(()=>W.value===!1&&(M.value===t.focusValue||M.value==="both")?" q-slider--focus":""),_=n(()=>`q-slider__thumb q-slider__thumb${F.value} q-slider__thumb${F.value}-${z.value===!0?"rtl":"ltr"} absolute non-selectable`+v.value+(t.thumbColor.value!==void 0?` text-${t.thumbColor.value}`:"")),x=n(()=>({width:e.thumbSize,height:e.thumbSize,[u.value]:`${100*t.ratio.value}%`,zIndex:M.value===t.focusValue?2:void 0})),A=n(()=>t.labelColor.value!==void 0?` text-${t.labelColor.value}`:""),Y=n(()=>Ye(t.ratio.value)),fe=n(()=>"q-slider__text"+(t.labelTextColor.value!==void 0?` text-${t.labelTextColor.value}`:""));return()=>{const pe=[T("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[T("path",{d:e.thumbPath})]),T("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(pe.push(T("div",{class:Me.value+" absolute fit no-pointer-events"+A.value},[T("div",{class:Ie.value,style:{minWidth:e.thumbSize}},[T("div",{class:Re.value,style:Y.value},[T("span",{class:fe.value},t.label.value)])])])),e.name!==void 0&&e.disable!==!0&&b(pe,"push")),T("div",{class:_.value,style:x.value,...t.getNodeData()},pe)}}function et(t,v,_,x){const A=[];e.innerTrackColor!=="transparent"&&A.push(T("div",{key:"inner",class:ze.value,style:he.value})),e.selectionColor!=="transparent"&&A.push(T("div",{key:"selection",class:H.value,style:t.value})),e.markers!==!1&&A.push(T("div",{key:"marker",class:ae.value,style:je.value})),x(A);const Y=[gt("div",{key:"trackC",class:ce.value,tabindex:v.value,..._.value},[T("div",{class:Ae.value,style:Ve.value},A)],"slide",m.value,()=>Qe.value)];if(e.markerLabels!==!1){const fe=e.switchMarkerLabelsSide===!0?"unshift":"push";Y[fe](T("div",{key:"markerL",class:qe.value},Ge()))}return Y}return ft(()=>{document.removeEventListener("mouseup",me,!0)}),{state:{active:D,focus:M,preventFocus:W,dragging:V,editable:m,classes:Z,tabindex:f,attributes:K,step:B,decimals:I,trackLen:L,innerMin:j,innerMinRatio:p,innerMax:s,innerMaxRatio:k,positionProp:u,sizeProp:l,isReversed:z},methods:{onActivate:Ke,onMobileClick:Xe,onBlur:xe,onKeyup:Je,getContent:et,getThumbRenderFn:Ze,convertRatioToModel:Be,convertModelToRatio:de,getDraggingRatio:Pe}}}const Qt=()=>({}),Ht=Fe({name:"QSlider",props:{...Ut,modelValue:{required:!0,default:null,validator:a=>typeof a=="number"||a===null},labelValue:[String,Number]},emits:Wt,setup(a,{emit:i}){const{proxy:{$q:N}}=ue(),{state:r,methods:e}=Gt({updateValue:F,updatePosition:z,getDragging:g,formAttrs:yt(a)}),C=O(null),E=O(0),S=O(0);function q(){S.value=a.modelValue===null?r.innerMin.value:te(a.modelValue,r.innerMin.value,r.innerMax.value)}St(()=>`${a.modelValue}|${r.innerMin.value}|${r.innerMax.value}`,q),q();const b=n(()=>e.convertModelToRatio(S.value)),D=n(()=>r.active.value===!0?E.value:b.value),W=n(()=>{const m={[r.positionProp.value]:`${100*r.innerMinRatio.value}%`,[r.sizeProp.value]:`${100*(D.value-r.innerMinRatio.value)}%`};return a.selectionImg!==void 0&&(m.backgroundImage=`url(${a.selectionImg}) !important`),m}),M=e.getThumbRenderFn({focusValue:!0,getNodeData:Qt,ratio:D,label:n(()=>a.labelValue!==void 0?a.labelValue:S.value),thumbColor:n(()=>a.thumbColor||a.color),labelColor:n(()=>a.labelColor),labelTextColor:n(()=>a.labelTextColor)}),V=n(()=>r.editable.value!==!0?{}:N.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:j,onBlur:e.onBlur,onKeydown:s,onKeyup:e.onKeyup});function F(m){S.value!==a.modelValue&&i("update:modelValue",S.value),m===!0&&i("change",S.value)}function g(){return C.value.getBoundingClientRect()}function z(m,I=r.dragging.value){const B=e.getDraggingRatio(m,I);S.value=e.convertRatioToModel(B),E.value=a.snap!==!0||a.step===0?B:e.convertModelToRatio(S.value)}function j(){r.focus.value=!0}function s(m){if(!Ne.includes(m.keyCode))return;ge(m);const I=([34,33].includes(m.keyCode)?10:1)*r.step.value,B=([34,37,40].includes(m.keyCode)?-1:1)*(r.isReversed.value===!0?-1:1)*(a.vertical===!0?-1:1)*I;S.value=te(parseFloat((S.value+B).toFixed(r.decimals.value)),r.innerMin.value,r.innerMax.value),F()}return()=>{const m=e.getContent(W,r.tabindex,V,I=>{I.push(M())});return T("div",{ref:C,class:r.classes.value+(a.modelValue===null?" q-slider--no-value":""),...r.attributes.value,"aria-valuenow":a.modelValue},m)}}});function $e(a){setTimeout(()=>{window.URL.revokeObjectURL(a.href)},1e4),a.remove()}function Kt(a,i,N={}){const{mimeType:r,byteOrderMark:e,encoding:C}=typeof N=="string"?{mimeType:N}:N,E=C!==void 0?new TextEncoder(C).encode([i]):i,S=e!==void 0?[e,E]:[E],q=new Blob(S,{type:r||"application/octet-stream"}),b=document.createElement("a");b.href=window.URL.createObjectURL(q),b.setAttribute("download",a),typeof b.download>"u"&&b.setAttribute("target","_blank"),b.classList.add("hidden"),b.style.position="fixed",document.body.appendChild(b);try{return b.click(),$e(b),!0}catch(D){return $e(b),D}}const Xt=d("p",{class:"text-h6"},"Options",-1),Jt={class:"q-mb-md"},Yt=d("p",null,"Reset your app Settings to the defaults without impacting any of your data.",-1),Zt={class:"q-mb-md"},ea=d("p",null," Welcome overlay provides helpful instructions on basic app usage on the Dashboard page. ",-1),ta={class:"q-mb-md"},aa=d("p",null,"Show descriptions for records displayed on the Dashboard page.",-1),la=d("p",null,"Dark mode allows you to switch between a light or dark theme for the app.",-1),na=d("p",{class:"text-h6"},"Defaults",-1),oa=d("p",null,"Load default demostration records into the database. This action can be repeated.",-1),sa=d("p",{class:"text-h6"},"Data Management",-1),ia={class:"q-mb-md"},ra=d("p",null," Import data into the database from a JSON file. The app expects the data in the file to be structured the same as the exported version. ",-1),ua={class:"q-mb-md"},ca=d("p",null," Export the selected data types as a JSON file. Do this on a regularly basis so you have a backup of your data. ",-1),da={class:"q-mb-md"},va=d("p",null,"Access any app data types to view the records or troubleshoot issues.",-1),ma=d("p",{class:"text-h6"},"Logging",-1),fa={class:"q-mb-md"},pa=d("p",null,"Show Console Logs will display all log messages in the browser console.",-1),ba={class:"q-mb-md"},ga=d("p",null,"Show Info Messages will display info level notifications.",-1),ha={class:"q-mb-md"},ya=d("p",null," Validate that your logging settings above are working as expected by using the test action below. ",-1),Sa={class:"q-mb-md"},ka=d("p",null," Change log retention time below. Logs older than the selected time will be deleted. This functions retroactivley, so if you change the time to 3 months, all logs older than 3 months will be deleted. Expired log processing occurs every time the app is loaded. ",-1),Ca=d("p",{class:"text-h6 text-negative"},"DANGER ZONE",-1),_a=d("p",null," The following operations cannot be undone. Consider exporting your data before proceeding. ",-1),xa={class:"q-mb-md"},wa=d("p",null,"Select a data type and permanently delete all of its records.",-1),Ta={class:"q-mb-md"},Ea=d("p",null,"Permanently delete all data records from the database.",-1),Da={class:"q-mb-md"},La=d("p",null,"Delete the underlining database and all of its data (requires website reload).",-1),Pa=kt({__name:"SettingsView",setup(a){Ct({title:`${se} - Settings`});const{log:i}=_t(),{notify:N}=xt(),{confirmDialog:r}=Mt(),{onDefaults:e}=It(),{goToData:C}=Rt(),E=wt.getTypeOptions(),S=O([]),q=O(0),b=O(null),D=O([]),W=[...E],M=O([...E]),V=O(M.value[0]),F=O([...E]),g=O(F.value[0]),z=U.liveSettings().subscribe({next:u=>{var o;S.value=u;const l=(o=u.find(h=>h.key===Q.LOG_RETENTION_TIME))==null?void 0:o.value;q.value=Object.values(ie).findIndex(h=>h===l)},error:u=>{i.error("Error fetching live Settings",u)}});Tt(()=>{z.unsubscribe()});function j(){i.debug("This is a Debug Log",{name:"Debug"}),i.info("This is an Info Log",{name:"Info"}),i.warn("This is a Warning Log",{name:"Warning"}),i.error("This is an Error Log",{name:"Error"})}function s(u){var o,h;const l=((h=(o=u[0])==null?void 0:o.importFile)==null?void 0:h.name)||void 0;i.warn(`Cannot import"${l}`,u)}function m(){var u;r("Import",`Import backup data from ${(u=b==null?void 0:b.value)==null?void 0:u.name} and attempt to load records into the database from it?`,J.INFO,"info",async()=>{try{const l=JSON.parse(await b.value.text());if(i.silentDebug("backupData:",l),l.appName!==se)throw new Error(`Cannot import data from this app: ${l.appName} `);const o=Object.values(R).filter(h=>h!==R.LOG&&h!==R.SETTING);l[R.SETTING].length>0&&await Promise.all(l[R.SETTING].filter(h=>Object.values(Q).includes(h.key)).map(async h=>await U.setSetting(h.key,h.value))),await Promise.all(o.map(h=>U.importRecords(h,l[h]))),b.value=null,i.info("Successfully imported available data")}catch(l){i.error("Error during import",l)}})}function I(){const u=se.toLowerCase().split(" ").join("-"),l=new Date().toISOString().split("T")[0],o=`export-${u}-${l}.json`;r("Export",`Export all selected record types into the file ${o}?`,J.INFO,"info",async()=>{try{const h=D.value,K=async $=>h.includes($)?await U.getAll($):[],Z={appName:se,backupTimestamp:Date.now(),[R.LOG]:await K(R.LOG),[R.SETTING]:await K(R.SETTING),[R.EXAMPLE_PARENT]:await K(R.EXAMPLE_PARENT),[R.EXAMPLE_CHILD]:await K(R.EXAMPLE_CHILD),[R.TEST_PARENT]:await K(R.TEST_PARENT),[R.TEST_CHILD]:await K(R.TEST_CHILD)};if(i.silentDebug("backupData:",Z),Kt(o,JSON.stringify(Z),{encoding:"UTF-8",mimeType:"application/json"})===!0)i.info("File downloaded successfully",{filename:o});else throw new Error("Browser denied file download")}catch(h){i.error("Export failed",h)}})}async function B(u){try{const l=Object.values(ie)[u];await U.setSetting(Q.LOG_RETENTION_TIME,l),i.info("Updated log retention time",{time:l,index:u})}catch(l){i.error("Log retention update failed",l)}}async function f(){r("Reset Settings","Would you like to reset your app Settings to the defaults? This does not impact your data.",J.REFRESH,"primary",async()=>{try{await U.resetSettings(),i.info("Successfully reset settings")}catch(u){i.error("Error reseting settings",u)}})}async function L(u,l){r(`Delete ${u}`,`Permanetly delete all ${u} from the database?`,J.CLEAR,"negative",async()=>{try{await U.clearByType(l),i.info(`${l} successfully deleted`)}catch(o){i.error(`Error deleting ${u}`,o)}})}async function G(){r("Delete All","Permanetly delete all data from the database?",J.CLEAR,"negative",async()=>{try{await U.clearAllData(),i.info("All data successfully deleted")}catch(u){i.error("Error deleting all data",u)}})}async function p(){r("Delete Database","Delete the underlining database? All data will be lost. You must reload the website after this action to reinitialize the database.",J.CLEAR,"negative",async()=>{try{await U.deleteDatabase(),N("Reload the website now",J.WARN,"warning")}catch(u){i.error("Database deletion failed",u)}})}function k(u){var l;return(l=S.value.find(o=>o.key===u))==null?void 0:l.value}return(u,l)=>(Te(),Ee(qt,{bannerIcon:w(J).SETTINGS,bannerTitle:"Settings"},{default:P(()=>[y(oe,{class:"q-mb-md"},{default:P(()=>[y(le,null,{default:P(()=>[Xt,d("div",Jt,[Yt,y(X,{label:"Reset Settings",color:"primary",onClick:l[0]||(l[0]=o=>f())})]),d("div",Zt,[ea,y(ne,{label:"Show Welcome Overlay","model-value":k(w(Q).SHOW_WELCOME),"onUpdate:modelValue":l[1]||(l[1]=o=>w(U).setSetting(w(Q).SHOW_WELCOME,o))},null,8,["model-value"])]),d("div",ta,[aa,y(ne,{label:"Show Dashboard Descriptions","model-value":k(w(Q).SHOW_DESCRIPTIONS),"onUpdate:modelValue":l[2]||(l[2]=o=>w(U).setSetting(w(Q).SHOW_DESCRIPTIONS,o))},null,8,["model-value"])]),d("div",null,[la,y(ne,{label:"Dark Mode","model-value":k(w(Q).DARK_MODE),"onUpdate:modelValue":l[3]||(l[3]=o=>w(U).setSetting(w(Q).DARK_MODE,o))},null,8,["model-value"])])]),_:1})]),_:1}),y(oe,{class:"q-mb-md"},{default:P(()=>[y(le,null,{default:P(()=>[na,d("div",null,[oa,y(X,{label:"Load Examples",color:"primary",onClick:l[4]||(l[4]=o=>w(e)())})])]),_:1})]),_:1}),y(oe,{class:"q-mb-md"},{default:P(()=>[y(le,null,{default:P(()=>[sa,d("div",ia,[ra,y(Bt,{modelValue:b.value,"onUpdate:modelValue":l[7]||(l[7]=o=>b.value=o),dense:"",outlined:"",counter:"","bottom-slots":"",label:"File Select","max-file-size":w(Et).MAX_FILE_SIZE,accept:"application/json",onRejected:s},{before:P(()=>[y(X,{disable:!b.value,label:"Import",color:"primary",onClick:l[5]||(l[5]=o=>m())},null,8,["disable"])]),append:P(()=>[b.value?(Te(),Ee(Dt,{key:0,name:w(J).CLOSE,class:"cursor-pointer",onClick:l[6]||(l[6]=Lt(o=>b.value=null,["stop"]))},null,8,["name"])):$t("",!0)]),_:1},8,["modelValue","max-file-size"])]),d("div",ua,[ca,y(Ft,{class:"q-mb-md",modelValue:D.value,"onUpdate:modelValue":l[8]||(l[8]=o=>D.value=o),options:W,type:"checkbox",inline:""},null,8,["modelValue"]),y(X,{disable:D.value.length===0,label:"Export",color:"primary",onClick:l[9]||(l[9]=o=>I())},null,8,["disable"])]),d("div",da,[va,y(De,{modelValue:V.value,"onUpdate:modelValue":l[11]||(l[11]=o=>V.value=o),outlined:"",dense:"",label:"Record Type",options:M.value},{before:P(()=>[y(X,{disable:!V.value,label:"Access Data",color:"primary",onClick:l[10]||(l[10]=o=>w(C)(V.value.value))},null,8,["disable"])]),_:1},8,["modelValue","options"])])]),_:1})]),_:1}),y(oe,{class:"q-mb-md"},{default:P(()=>[y(le,null,{default:P(()=>[ma,d("div",fa,[pa,y(ne,{label:"Show Console Logs","model-value":k(w(Q).SHOW_CONSOLE_LOGS),"onUpdate:modelValue":l[12]||(l[12]=o=>w(U).setSetting(w(Q).SHOW_CONSOLE_LOGS,o))},null,8,["model-value"])]),d("div",ba,[ga,y(ne,{label:"Show Info Messages","model-value":k(w(Q).SHOW_INFO_MESSAGES),"onUpdate:modelValue":l[13]||(l[13]=o=>w(U).setSetting(w(Q).SHOW_INFO_MESSAGES,o))},null,8,["model-value"])]),d("div",ha,[ya,y(X,{label:"Test Logger",color:"primary",onClick:l[14]||(l[14]=o=>j())})]),d("div",Sa,[ka,y(Ht,{modelValue:q.value,"onUpdate:modelValue":l[15]||(l[15]=o=>q.value=o),"label-value":Object.values(w(ie))[q.value],color:"primary",markers:"","label-always":"","switch-label-side":"",min:0,max:Object.values(w(ie)).length-1,onChange:l[16]||(l[16]=o=>B(o))},null,8,["modelValue","label-value","max"])])]),_:1})]),_:1}),y(oe,{class:"q-mb-md"},{default:P(()=>[y(le,null,{default:P(()=>[Ca,_a,d("div",xa,[wa,y(De,{modelValue:g.value,"onUpdate:modelValue":l[18]||(l[18]=o=>g.value=o),outlined:"",dense:"",label:"Record Type",options:F.value},{before:P(()=>[y(X,{disable:!g.value,label:"Delete Data",color:"negative",onClick:l[17]||(l[17]=o=>L(g.value.label,g.value.value))},null,8,["disable"])]),_:1},8,["modelValue","options"])]),d("div",Ta,[Ea,y(X,{label:"Delete All Data",color:"negative",onClick:l[19]||(l[19]=o=>G())})]),d("div",Da,[La,y(X,{label:"Delete Database",color:"negative",onClick:l[20]||(l[20]=o=>p())})])]),_:1})]),_:1})]),_:1},8,["bannerIcon"]))}});export{Pa as default};
