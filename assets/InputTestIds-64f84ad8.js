import{Q as f}from"./QSelect-65e68149.js";import{d as g,e as y,r as v,$ as S,f as T,T as V,bA as B,j as b,k as h,l as r,m as l,z as w,n,t as i,u as d,y as C}from"./index-5d245f77.js";import{u as D}from"./action-ec1f5bf5.js";import"./QItem-6c91178d.js";import"./QItemLabel-35dc4d65.js";import"./QMenu-36ba3952.js";import"./selection-280b5155.js";const Q={class:"text-h6"},N=g({__name:"InputTestIds",props:{field:{},label:{},desc:{},getDefault:{type:Function},validator:{},validationMessage:{}},setup(u){const a=u,{log:p}=y(),o=D(),s=v([]);S(async()=>{try{o.record[a.field]=o.record[a.field]??a.getDefault();const e=await T.getParentsByType(V.TEST);s.value=e.map(t=>({value:t.id,label:`${t.name} (${B(t.id,4,"*")})`}))}catch(e){p.error("Error with test ids input",e)}});function c(){return async e=>await a.validator.isValid(e)||a.validationMessage}return(e,t)=>(b(),h(C,null,{default:r(()=>[l(w,null,{default:r(()=>[n("p",Q,i(e.label),1),n("p",null,i(e.desc),1),l(f,{modelValue:d(o).record[e.field],"onUpdate:modelValue":t[0]||(t[0]=m=>d(o).record[e.field]=m),rules:[c()],options:s.value,counter:"",multiple:"","emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary"},null,8,["modelValue","rules","options"])]),_:1})]),_:1}))}});export{N as default};
