import{s as ue,r as M,z as n,ai as tt,af as ge,aj as at,v as E,q as Ne,ak as lt,al as Ie,am as nt,an as ot,ao as st,ap as it,a0 as rt,aq as ut,ar as Te,as as ct,at as dt,C as vt,W as mt,Y as be,M as ft,B as pt,au as ee,av as bt,aw as gt,ax as ht,ay as yt,E as St,d as Ct,u as kt,A as se,a as _t,az as xt,D as Tt,b as N,K as Q,aA as ie,o as wt,c as we,e as Ee,w as j,f as y,Q as ae,l as d,n as K,aB as le,h as w,i as ne,aC as Et,m as Lt,I as X,aD as Dt,a4 as $t,g as Nt,T}from"./index-28c8bf0b.js";import{b as It,Q as Le}from"./QSelect-5d1678e4.js";import{T as Mt}from"./TouchPan-cde1b477.js";import{u as Ft}from"./useDialogs-b7de82d7.js";import{u as Ot}from"./useDefaults-4b7ea8b1.js";import{u as At}from"./useRoutables-1c239c02.js";import{_ as Rt}from"./ResponsivePage.vue_vue_type_script_setup_true_lang-767a8021.js";import"./QItem-b926f8e7.js";import"./QItemLabel-f325ac93.js";import"./QMenu-9b6e07a8.js";import"./selection-f556fdfa.js";import"./SimpleDialog.vue_vue_type_script_setup_true_lang-df250277.js";function Z(a,i,F,r){const e=[];return a.forEach(k=>{r(k)===!0?e.push(k):i.push({failedPropValidation:F,file:k})}),e}function re(a){a&&a.dataTransfer&&(a.dataTransfer.dropEffect="copy"),ge(a)}const qt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Vt=["rejected"];function Pt({editable:a,dnd:i,getFileInput:F,addFilesToQueue:r}){const{props:e,emit:k,proxy:L}=ue(),S=M(null),R=n(()=>e.accept!==void 0?e.accept.split(",").map(s=>(s=s.trim(),s==="*"?"*/":(s.endsWith("/*")&&(s=s.slice(0,s.length-1)),s.toUpperCase()))):null),g=n(()=>parseInt(e.maxFiles,10)),D=n(()=>parseInt(e.maxTotalSize,10));function W(s){if(a.value)if(s!==Object(s)&&(s={target:null}),s.target!==null&&s.target.matches('input[type="file"]')===!0)s.clientX===0&&s.clientY===0&&tt(s);else{const m=F();m&&m!==s.target&&m.click(s)}}function O(s){a.value&&s&&r(null,s)}function P(s,m,A,B){let p=Array.from(m||s.target.files);const $=[],G=()=>{$.length>0&&k("rejected",$)};if(e.accept!==void 0&&R.value.indexOf("*/")===-1&&(p=Z(p,$,"accept",b=>R.value.some(C=>b.type.toUpperCase().startsWith(C)||b.name.toUpperCase().endsWith(C))),p.length===0))return G();if(e.maxFileSize!==void 0){const b=parseInt(e.maxFileSize,10);if(p=Z(p,$,"max-file-size",C=>C.size<=b),p.length===0)return G()}if(e.multiple!==!0&&p.length>0&&(p=[p[0]]),p.forEach(b=>{b.__key=b.webkitRelativePath+b.lastModified+b.name+b.size}),B===!0){const b=A.map(C=>C.__key);p=Z(p,$,"duplicate",C=>b.includes(C.__key)===!1)}if(p.length===0)return G();if(e.maxTotalSize!==void 0){let b=B===!0?A.reduce((C,u)=>C+u.size,0):0;if(p=Z(p,$,"max-total-size",C=>(b+=C.size,b<=D.value)),p.length===0)return G()}if(typeof e.filter=="function"){const b=e.filter(p);p=Z(p,$,"filter",C=>b.includes(C))}if(e.maxFiles!==void 0){let b=B===!0?A.length:0;if(p=Z(p,$,"max-files",()=>(b++,b<=g.value)),p.length===0)return G()}if(G(),p.length>0)return p}function I(s){re(s),i.value!==!0&&(i.value=!0)}function h(s){ge(s),(s.relatedTarget!==null||at.is.safari!==!0?s.relatedTarget!==S.value:document.elementsFromPoint(s.clientX,s.clientY).includes(S.value)===!1)===!0&&(i.value=!1)}function z(s){re(s);const m=s.dataTransfer.files;m.length>0&&r(null,m),i.value=!1}function U(s){if(i.value===!0)return E("div",{ref:S,class:`q-${s}__dnd absolute-full`,onDragenter:re,onDragover:re,onDragleave:h,onDrop:z})}return Object.assign(L,{pickFiles:W,addFiles:O}),{pickFiles:W,addFiles:O,onDragover:I,onDragleave:h,processFiles:P,getDndNode:U,maxFilesNumber:g,maxTotalSizeNumber:D}}const zt=Ne({name:"QFile",inheritAttrs:!1,props:{...lt,...Ie,...qt,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...nt,...Vt],setup(a,{slots:i,emit:F,attrs:r}){const{proxy:e}=ue(),k=ot(),L=M(null),S=M(!1),R=st(a),{pickFiles:g,onDragover:D,onDragleave:W,processFiles:O,getDndNode:P}=Pt({editable:k.editable,dnd:S,getFileInput:l,addFilesToQueue:o}),I=it(a),h=n(()=>Object(a.modelValue)===a.modelValue?"length"in a.modelValue?Array.from(a.modelValue):[a.modelValue]:[]),z=n(()=>Te(h.value)),U=n(()=>h.value.map(c=>c.name).join(", ")),s=n(()=>ct(h.value.reduce((c,q)=>c+q.size,0))),m=n(()=>({totalSize:s.value,filesNumber:h.value.length,maxFiles:a.maxFiles})),A=n(()=>({tabindex:-1,type:"file",title:"",accept:a.accept,capture:a.capture,name:R.value,...r,id:k.targetUid.value,disabled:k.editable.value!==!0})),B=n(()=>"q-file q-field--auto-height"+(S.value===!0?" q-file--dnd":"")),p=n(()=>a.multiple===!0&&a.append===!0);function $(c){const q=h.value.slice();q.splice(c,1),b(q)}function G(c){const q=h.value.findIndex(c);q>-1&&$(q)}function b(c){F("update:modelValue",a.multiple===!0?c:c[0])}function C(c){c.keyCode===13&&dt(c)}function u(c){(c.keyCode===13||c.keyCode===32)&&g(c)}function l(){return L.value}function o(c,q){const H=O(c,q,h.value,p.value),te=l();te!=null&&(te.value=""),H!==void 0&&((a.multiple===!0?a.modelValue&&H.every(ce=>h.value.includes(ce)):a.modelValue===H[0])||b(p.value===!0?h.value.concat(H):H))}function f(){return[E("input",{class:[a.inputClass,"q-file__filler"],style:a.inputStyle})]}function Y(){if(i.file!==void 0)return h.value.length===0?f():h.value.map((q,H)=>i.file({index:H,file:q,ref:this}));if(i.selected!==void 0)return h.value.length===0?f():i.selected({files:h.value,ref:this});if(a.useChips===!0)return h.value.length===0?f():h.value.map((q,H)=>E(It,{key:"file-"+H,removable:k.editable.value,dense:!0,textColor:a.color,tabindex:a.tabindex,onRemove:()=>{$(H)}},()=>E("span",{class:"ellipsis",textContent:q.name})));const c=a.displayValue!==void 0?a.displayValue:U.value;return c.length>0?[E("div",{class:a.inputClass,style:a.inputStyle,textContent:c})]:f()}function oe(){const c={ref:L,...A.value,...I.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:o};return a.multiple===!0&&(c.multiple=!0),E("input",c)}return Object.assign(k,{fieldClass:B,emitValue:b,hasValue:z,inputRef:L,innerValue:h,floatingLabel:n(()=>z.value===!0||Te(a.displayValue)),computedCounter:n(()=>{if(a.counterLabel!==void 0)return a.counterLabel(m.value);const c=a.maxFiles;return`${h.value.length}${c!==void 0?" / "+c:""} (${s.value})`}),getControlChild:()=>P("file"),getControl:()=>{const c={ref:k.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:a.tabindex};return k.editable.value===!0&&Object.assign(c,{onDragover:D,onDragleave:W,onKeydown:C,onKeyup:u}),E("div",c,[oe()].concat(Y()))}}),Object.assign(e,{removeAtIndex:$,removeFile:G,getNativeElement:()=>L.value}),rt(e,"nativeEl",()=>L.value),ut(k)}}),De="q-slider__marker-labels",Bt=a=>({value:a}),jt=({marker:a})=>E("div",{key:a.value,style:a.style,class:a.classes},a.label),Me=[34,37,40,33,39,38],Ut={...pt,...Ie,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:a=>a>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Wt=["pan","update:modelValue","change"];function Gt({updateValue:a,updatePosition:i,getDragging:F,formAttrs:r}){const{props:e,emit:k,slots:L,proxy:{$q:S}}=ue(),R=vt(e,S),g=ht(r),D=M(!1),W=M(!1),O=M(!1),P=M(!1),I=n(()=>e.vertical===!0?"--v":"--h"),h=n(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),z=n(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(S.lang.rtl===!0)),U=n(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),s=n(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),m=n(()=>e.disable!==!0&&e.readonly!==!0&&U.value<s.value),A=n(()=>(String(e.step).trim().split(".")[1]||"").length),B=n(()=>e.step===0?1:e.step),p=n(()=>m.value===!0?e.tabindex||0:-1),$=n(()=>e.max-e.min),G=n(()=>s.value-U.value),b=n(()=>de(U.value)),C=n(()=>de(s.value)),u=n(()=>e.vertical===!0?z.value===!0?"bottom":"top":z.value===!0?"right":"left"),l=n(()=>e.vertical===!0?"height":"width"),o=n(()=>e.vertical===!0?"width":"height"),f=n(()=>e.vertical===!0?"vertical":"horizontal"),Y=n(()=>{const t={role:"slider","aria-valuemin":U.value,"aria-valuemax":s.value,"aria-orientation":f.value,"data-step":e.step};return e.disable===!0?t["aria-disabled"]="true":e.readonly===!0&&(t["aria-readonly"]="true"),t}),oe=n(()=>`q-slider q-slider${I.value} q-slider--${D.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(m.value===!0?" q-slider--editable":""))+(O.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(R.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+I.value:""));function c(t){const v="q-slider__"+t;return`${v} ${v}${I.value} ${v}${I.value}${h.value}`}function q(t){const v="q-slider__"+t;return`${v} ${v}${I.value}`}const H=n(()=>{const t=e.selectionColor||e.color;return"q-slider__selection absolute"+(t!==void 0?` text-${t}`:"")}),te=n(()=>q("markers")+" absolute overflow-hidden"),ce=n(()=>q("track-container")),Fe=n(()=>c("pin")),Oe=n(()=>c("label")),Ae=n(()=>c("text-container")),Re=n(()=>c("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),qe=n(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),Ve=n(()=>{const t={[o.value]:e.trackSize};return e.trackImg!==void 0&&(t.backgroundImage=`url(${e.trackImg}) !important`),t}),Pe=n(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),he=n(()=>{const t={[u.value]:`${100*b.value}%`,[l.value]:`${100*(C.value-b.value)}%`};return e.innerTrackImg!==void 0&&(t.backgroundImage=`url(${e.innerTrackImg}) !important`),t});function ze(t){const{min:v,max:_,step:x}=e;let V=v+t*(_-v);if(x>0){const J=(V-v)%x;V+=(Math.abs(J)>=x/2?(J<0?-1:1)*x:0)-J}return A.value>0&&(V=parseFloat(V.toFixed(A.value))),ee(V,U.value,s.value)}function de(t){return $.value===0?0:(t-e.min)/$.value}function Be(t,v){const _=bt(t),x=e.vertical===!0?ee((_.top-v.top)/v.height,0,1):ee((_.left-v.left)/v.width,0,1);return ee(z.value===!0?1-x:x,b.value,C.value)}const ye=n(()=>mt(e.markers)===!0?e.markers:B.value),Se=n(()=>{const t=[],v=ye.value,_=e.max;let x=e.min;do t.push(x),x+=v;while(x<_);return t.push(_),t}),Ce=n(()=>{const t=` ${De}${I.value}-`;return De+`${t}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${t}${z.value===!0?"rtl":"ltr"}`}),ve=n(()=>e.markerLabels===!1?null:Ue(e.markerLabels).map((t,v)=>({index:v,value:t.value,label:t.label||t.value,classes:Ce.value+(t.classes!==void 0?" "+t.classes:""),style:{..._e(t.value),...t.style||{}}}))),ke=n(()=>({markerList:ve.value,markerMap:We.value,classes:Ce.value,getStyle:_e})),je=n(()=>{if(G.value!==0){const t=100*ye.value/G.value;return{...he.value,backgroundSize:e.vertical===!0?`2px ${t}%`:`${t}% 2px`}}return null});function Ue(t){if(t===!1)return null;if(t===!0)return Se.value.map(Bt);if(typeof t=="function")return Se.value.map(_=>{const x=t(_);return be(x)===!0?{...x,value:_}:{value:_,label:x}});const v=({value:_})=>_>=e.min&&_<=e.max;return Array.isArray(t)===!0?t.map(_=>be(_)===!0?_:{value:_}).filter(v):Object.keys(t).map(_=>{const x=t[_],V=Number(_);return be(x)===!0?{...x,value:V}:{value:V,label:x}}).filter(v)}function _e(t){return{[u.value]:`${100*(t-e.min)/$.value}%`}}const We=n(()=>{if(e.markerLabels===!1)return null;const t={};return ve.value.forEach(v=>{t[v.value]=v}),t});function Ge(){if(L["marker-label-group"]!==void 0)return L["marker-label-group"](ke.value);const t=L["marker-label"]||jt;return ve.value.map(v=>t({marker:v,...ke.value}))}const He=n(()=>[[Mt,Qe,void 0,{[f.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Qe(t){t.isFinal===!0?(P.value!==void 0&&(i(t.evt),t.touch===!0&&a(!0),P.value=void 0,k("pan","end")),D.value=!1,O.value=!1):t.isFirst===!0?(P.value=F(t.evt),i(t.evt),a(),D.value=!0,k("pan","start")):(i(t.evt),a())}function xe(){O.value=!1}function Ke(t){i(t,F(t)),a(),W.value=!0,D.value=!0,document.addEventListener("mouseup",me,!0)}function me(){W.value=!1,D.value=!1,a(!0),xe(),document.removeEventListener("mouseup",me,!0)}function Xe(t){i(t,F(t)),a(!0)}function Je(t){Me.includes(t.keyCode)&&a(!0)}function Ye(t){if(e.vertical===!0)return null;const v=S.lang.rtl!==e.reverse?1-t:t;return{transform:`translateX(calc(${2*v-1} * ${e.thumbSize} / 2 + ${50-100*v}%))`}}function Ze(t){const v=n(()=>W.value===!1&&(O.value===t.focusValue||O.value==="both")?" q-slider--focus":""),_=n(()=>`q-slider__thumb q-slider__thumb${I.value} q-slider__thumb${I.value}-${z.value===!0?"rtl":"ltr"} absolute non-selectable`+v.value+(t.thumbColor.value!==void 0?` text-${t.thumbColor.value}`:"")),x=n(()=>({width:e.thumbSize,height:e.thumbSize,[u.value]:`${100*t.ratio.value}%`,zIndex:O.value===t.focusValue?2:void 0})),V=n(()=>t.labelColor.value!==void 0?` text-${t.labelColor.value}`:""),J=n(()=>Ye(t.ratio.value)),fe=n(()=>"q-slider__text"+(t.labelTextColor.value!==void 0?` text-${t.labelTextColor.value}`:""));return()=>{const pe=[E("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[E("path",{d:e.thumbPath})]),E("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(pe.push(E("div",{class:Fe.value+" absolute fit no-pointer-events"+V.value},[E("div",{class:Oe.value,style:{minWidth:e.thumbSize}},[E("div",{class:Ae.value,style:J.value},[E("span",{class:fe.value},t.label.value)])])])),e.name!==void 0&&e.disable!==!0&&g(pe,"push")),E("div",{class:_.value,style:x.value,...t.getNodeData()},pe)}}function et(t,v,_,x){const V=[];e.innerTrackColor!=="transparent"&&V.push(E("div",{key:"inner",class:Pe.value,style:he.value})),e.selectionColor!=="transparent"&&V.push(E("div",{key:"selection",class:H.value,style:t.value})),e.markers!==!1&&V.push(E("div",{key:"marker",class:te.value,style:je.value})),x(V);const J=[gt("div",{key:"trackC",class:ce.value,tabindex:v.value,..._.value},[E("div",{class:qe.value,style:Ve.value},V)],"slide",m.value,()=>He.value)];if(e.markerLabels!==!1){const fe=e.switchMarkerLabelsSide===!0?"unshift":"push";J[fe](E("div",{key:"markerL",class:Re.value},Ge()))}return J}return ft(()=>{document.removeEventListener("mouseup",me,!0)}),{state:{active:D,focus:O,preventFocus:W,dragging:P,editable:m,classes:oe,tabindex:p,attributes:Y,step:B,decimals:A,trackLen:$,innerMin:U,innerMinRatio:b,innerMax:s,innerMaxRatio:C,positionProp:u,sizeProp:l,isReversed:z},methods:{onActivate:Ke,onMobileClick:Xe,onBlur:xe,onKeyup:Je,getContent:et,getThumbRenderFn:Ze,convertRatioToModel:ze,convertModelToRatio:de,getDraggingRatio:Be}}}const Ht=()=>({}),Qt=Ne({name:"QSlider",props:{...Ut,modelValue:{required:!0,default:null,validator:a=>typeof a=="number"||a===null},labelValue:[String,Number]},emits:Wt,setup(a,{emit:i}){const{proxy:{$q:F}}=ue(),{state:r,methods:e}=Gt({updateValue:I,updatePosition:z,getDragging:h,formAttrs:yt(a)}),k=M(null),L=M(0),S=M(0);function R(){S.value=a.modelValue===null?r.innerMin.value:ee(a.modelValue,r.innerMin.value,r.innerMax.value)}St(()=>`${a.modelValue}|${r.innerMin.value}|${r.innerMax.value}`,R),R();const g=n(()=>e.convertModelToRatio(S.value)),D=n(()=>r.active.value===!0?L.value:g.value),W=n(()=>{const m={[r.positionProp.value]:`${100*r.innerMinRatio.value}%`,[r.sizeProp.value]:`${100*(D.value-r.innerMinRatio.value)}%`};return a.selectionImg!==void 0&&(m.backgroundImage=`url(${a.selectionImg}) !important`),m}),O=e.getThumbRenderFn({focusValue:!0,getNodeData:Ht,ratio:D,label:n(()=>a.labelValue!==void 0?a.labelValue:S.value),thumbColor:n(()=>a.thumbColor||a.color),labelColor:n(()=>a.labelColor),labelTextColor:n(()=>a.labelTextColor)}),P=n(()=>r.editable.value!==!0?{}:F.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:U,onBlur:e.onBlur,onKeydown:s,onKeyup:e.onKeyup});function I(m){S.value!==a.modelValue&&i("update:modelValue",S.value),m===!0&&i("change",S.value)}function h(){return k.value.getBoundingClientRect()}function z(m,A=r.dragging.value){const B=e.getDraggingRatio(m,A);S.value=e.convertRatioToModel(B),L.value=a.snap!==!0||a.step===0?B:e.convertModelToRatio(S.value)}function U(){r.focus.value=!0}function s(m){if(!Me.includes(m.keyCode))return;ge(m);const A=([34,33].includes(m.keyCode)?10:1)*r.step.value,B=([34,37,40].includes(m.keyCode)?-1:1)*(r.isReversed.value===!0?-1:1)*(a.vertical===!0?-1:1)*A;S.value=ee(parseFloat((S.value+B).toFixed(r.decimals.value)),r.innerMin.value,r.innerMax.value),I()}return()=>{const m=e.getContent(W,r.tabindex,P,A=>{A.push(O())});return E("div",{ref:k,class:r.classes.value+(a.modelValue===null?" q-slider--no-value":""),...r.attributes.value,"aria-valuenow":a.modelValue},m)}}});function $e(a){setTimeout(()=>{window.URL.revokeObjectURL(a.href)},1e4),a.remove()}function Kt(a,i,F={}){const{mimeType:r,byteOrderMark:e,encoding:k}=typeof F=="string"?{mimeType:F}:F,L=k!==void 0?new TextEncoder(k).encode([i]):i,S=e!==void 0?[e,L]:[L],R=new Blob(S,{type:r||"application/octet-stream"}),g=document.createElement("a");g.href=window.URL.createObjectURL(R),g.setAttribute("download",a),typeof g.download>"u"&&g.setAttribute("target","_blank"),g.classList.add("hidden"),g.style.position="fixed",document.body.appendChild(g);try{return g.click(),$e(g),!0}catch(D){return $e(g),D}}const Xt=d("p",{class:"text-h6"},"Options",-1),Jt={class:"q-mb-md"},Yt=d("p",null,"Reset your app Settings without changing any of your data.",-1),Zt={class:"q-mb-md"},ea=d("p",null," Welcome overlay provides helpful instructions on basic app usage on the Dashboard page. ",-1),ta={class:"q-mb-md"},aa=d("p",null,"Show descriptions for records displayed on the Dashboard page.",-1),la=d("p",null,"Dark mode allows you to switch between a light or dark theme for the app.",-1),na=d("p",{class:"text-h6"},"Defaults",-1),oa=d("p",null,"Load default demostration records into the database. This action can be repeated.",-1),sa=d("p",{class:"text-h6"},"Data Management",-1),ia={class:"q-mb-md"},ra=d("p",null," Import data into the database from a JSON file. The app expects the data in the file to be structured the same as the exported version. ",-1),ua={class:"q-mb-md"},ca=d("p",null," Export the selected data types as a JSON file. Do this on a regularly basis so you have a backup of your data. ",-1),da={class:"q-mb-md"},va=d("p",null,"Access any app data types to view the records or troubleshoot issues.",-1),ma=d("p",{class:"text-h6"},"Logging",-1),fa={class:"q-mb-md"},pa=d("p",null,"Show Console Logs will display all log messages in the browser console.",-1),ba={class:"q-mb-md"},ga=d("p",null,"Show Info Messages will display info level notifications.",-1),ha={class:"q-mb-md"},ya=d("p",null," Validate that your logging settings above are working as expected by using the test action below. ",-1),Sa={class:"q-mb-md"},Ca=d("p",null," Change log retention time below. Logs older than the selected time will be deleted. This functions retroactivley, so if you change the time to 3 months, all logs older than 3 months will be deleted. Expired log processing occurs every time the app is loaded. ",-1),ka=d("p",{class:"text-h6 text-negative"},"DANGER ZONE",-1),_a=d("p",null," The following operations cannot be undone. Consider exporting your data before proceeding. ",-1),xa={class:"q-mb-md"},Ta=d("p",null,"Select a data type and permanently delete all of its records.",-1),wa={class:"q-mb-md"},Ea=d("p",null,"Permanently delete all data records from the database.",-1),La={class:"q-mb-md"},Da=d("p",null,"Delete the underlining database and all of its data (requires website reload).",-1),Ba=Ct({__name:"SettingsView",setup(a){kt({title:`${se} - Settings`});const{log:i}=_t(),{notify:F}=xt(),{confirmDialog:r}=Ft(),{onDefaults:e}=Ot(),{goToData:k}=At(),L=Tt.getTypeOptions(),S=M([]),R=M(0),g=M(null),D=M([]),W=[...L],O=M([...L]),P=M(O.value[0]),I=M([...L]),h=M(I.value[0]),z=N.liveSettings().subscribe({next:u=>{var o;S.value=u;const l=(o=u.find(f=>f.key===Q.LOG_RETENTION_TIME))==null?void 0:o.value;R.value=Object.values(ie).findIndex(f=>f===l)},error:u=>{i.error("Error fetching live Settings",u)}});wt(()=>{z.unsubscribe()});function U(){i.debug("This is a Debug Log",{name:"Debug"}),i.info("This is an Info Log",{name:"Info"}),i.warn("This is a Warning Log",{name:"Warning"}),i.error("This is an Error Log",{name:"Error"})}function s(u){var o,f;const l=((f=(o=u[0])==null?void 0:o.importFile)==null?void 0:f.name)||void 0;i.warn(`Cannot import"${l}`,u)}function m(){var u;r("Import",`Import backup data from ${(u=g==null?void 0:g.value)==null?void 0:u.name} and attempt to load records into the database from it?`,X.INFO,"info",async()=>{try{const l=JSON.parse(await g.value.text());if(i.silentDebug("backupData:",l),l.appName!==se)throw new Error(`Cannot import data from this app: ${l.appName} `);const o=Object.values(T).filter(f=>f!==T.LOG&&f!==T.SETTING);await Promise.all(o.map(f=>N.importRecords(f,l[f]))),l[T.SETTING].length>0&&await Promise.all(l[T.SETTING].map(async f=>await N.setSetting(f.key,f.value))),g.value=null,i.info("Successfully imported available data")}catch(l){i.error("Import failed",l)}})}function A(){const u=se.toLowerCase().split(" ").join("-"),l=new Date().toISOString().split("T")[0],o=`export-${u}-${l}.json`;r("Export",`Export all selected record types into the file ${o}?`,X.INFO,"info",async()=>{try{const f=D.value,Y={appName:se,backupTimestamp:Date.now(),[T.LOG]:f.includes(T.LOG)?await N.getAll(T.LOG):[],[T.SETTING]:f.includes(T.SETTING)?await N.getAll(T.SETTING):[],[T.EXAMPLE_PARENT]:f.includes(T.EXAMPLE_PARENT)?await N.getAll(T.EXAMPLE_PARENT):[],[T.EXAMPLE_CHILD]:f.includes(T.EXAMPLE_CHILD)?await N.getAll(T.EXAMPLE_CHILD):[],[T.TEST_PARENT]:f.includes(T.TEST_PARENT)?await N.getAll(T.TEST_PARENT):[],[T.TEST_CHILD]:f.includes(T.TEST_CHILD)?await N.getAll(T.TEST_CHILD):[]};if(i.silentDebug("backupData:",Y),Kt(o,JSON.stringify(Y),{encoding:"UTF-8",mimeType:"application/json"})===!0)i.info("File downloaded successfully",{filename:o});else throw new Error("Browser denied file download")}catch(f){i.error("Export failed",f)}})}async function B(u){try{const l=Object.values(ie)[u];await N.setSetting(Q.LOG_RETENTION_TIME,l),i.info("Updated log retention time",{time:l,index:u})}catch(l){i.error("Log retention update failed",l)}}async function p(){r("Reset Settings","Would you like to reset your app Settings? This does not change your records.",X.REFRESH,"primary",async()=>{try{await N.resetSettings(),i.info("Successfully reset settings")}catch(u){i.error("Error reseting settings",u)}})}async function $(u,l){r(`Delete ${u}`,`Permanetly delete all ${u} from the database?`,X.CLEAR,"negative",async()=>{try{await N.clearByType(l),i.info(`${l} successfully deleted`)}catch(o){i.error(`Error deleting ${u}`,o)}})}async function G(){r("Delete All","Permanetly delete all data from the database?",X.CLEAR,"negative",async()=>{try{await N.clearAllData(),i.info("All data successfully deleted")}catch(u){i.error("Error deleting all data",u)}})}async function b(){r("Delete Database","Delete the underlining database? All data will be lost. You must reload the website after this action to reinitialize the database.",X.CLEAR,"negative",async()=>{try{await N.deleteDatabase(),F("Reload the website now",X.WARN,"warning")}catch(u){i.error("Database deletion failed",u)}})}function C(u){var l;return(l=S.value.find(o=>o.key===u))==null?void 0:l.value}return(u,l)=>(we(),Ee(Rt,{bannerIcon:w(X).SETTINGS,bannerTitle:"Settings"},{default:j(()=>[y(ne,{class:"q-mb-md"},{default:j(()=>[y(ae,null,{default:j(()=>[Xt,d("div",Jt,[Yt,y(K,{label:"Reset Settings",color:"primary",onClick:l[0]||(l[0]=o=>p())})]),d("div",Zt,[ea,y(le,{label:"Show Welcome Overlay","model-value":C(w(Q).SHOW_WELCOME),"onUpdate:modelValue":l[1]||(l[1]=o=>w(N).setSetting(w(Q).SHOW_WELCOME,o))},null,8,["model-value"])]),d("div",ta,[aa,y(le,{label:"Show Dashboard Descriptions","model-value":C(w(Q).SHOW_DESCRIPTIONS),"onUpdate:modelValue":l[2]||(l[2]=o=>w(N).setSetting(w(Q).SHOW_DESCRIPTIONS,o))},null,8,["model-value"])]),d("div",null,[la,y(le,{label:"Dark Mode","model-value":C(w(Q).DARK_MODE),"onUpdate:modelValue":l[3]||(l[3]=o=>w(N).setSetting(w(Q).DARK_MODE,o))},null,8,["model-value"])])]),_:1})]),_:1}),y(ne,{class:"q-mb-md"},{default:j(()=>[y(ae,null,{default:j(()=>[na,d("div",null,[oa,y(K,{label:"Load Examples",color:"primary",onClick:l[4]||(l[4]=o=>w(e)())})])]),_:1})]),_:1}),y(ne,{class:"q-mb-md"},{default:j(()=>[y(ae,null,{default:j(()=>[sa,d("div",ia,[ra,y(zt,{modelValue:g.value,"onUpdate:modelValue":l[7]||(l[7]=o=>g.value=o),dense:"",outlined:"",counter:"","bottom-slots":"",label:"File Select","max-file-size":w(Et).MAX_FILE_SIZE,accept:"application/json",onRejected:s},{before:j(()=>[y(K,{disable:!g.value,label:"Import",color:"primary",onClick:l[5]||(l[5]=o=>m())},null,8,["disable"])]),append:j(()=>[g.value?(we(),Ee(Lt,{key:0,name:w(X).CLOSE,class:"cursor-pointer",onClick:l[6]||(l[6]=Dt(o=>g.value=null,["stop"]))},null,8,["name"])):$t("",!0)]),_:1},8,["modelValue","max-file-size"])]),d("div",ua,[ca,y(Nt,{class:"q-mb-md",modelValue:D.value,"onUpdate:modelValue":l[8]||(l[8]=o=>D.value=o),options:W,type:"checkbox",inline:""},null,8,["modelValue"]),y(K,{disable:D.value.length===0,label:"Export",color:"primary",onClick:l[9]||(l[9]=o=>A())},null,8,["disable"])]),d("div",da,[va,y(Le,{modelValue:P.value,"onUpdate:modelValue":l[11]||(l[11]=o=>P.value=o),outlined:"",dense:"",label:"Record Type",options:O.value},{before:j(()=>[y(K,{disable:!P.value,label:"Access Data",color:"primary",onClick:l[10]||(l[10]=o=>w(k)(P.value.value))},null,8,["disable"])]),_:1},8,["modelValue","options"])])]),_:1})]),_:1}),y(ne,{class:"q-mb-md"},{default:j(()=>[y(ae,null,{default:j(()=>[ma,d("div",fa,[pa,y(le,{label:"Show Console Logs","model-value":C(w(Q).SHOW_CONSOLE_LOGS),"onUpdate:modelValue":l[12]||(l[12]=o=>w(N).setSetting(w(Q).SHOW_CONSOLE_LOGS,o))},null,8,["model-value"])]),d("div",ba,[ga,y(le,{label:"Show Info Messages","model-value":C(w(Q).SHOW_INFO_MESSAGES),"onUpdate:modelValue":l[13]||(l[13]=o=>w(N).setSetting(w(Q).SHOW_INFO_MESSAGES,o))},null,8,["model-value"])]),d("div",ha,[ya,y(K,{label:"Test Logger",color:"primary",onClick:l[14]||(l[14]=o=>U())})]),d("div",Sa,[Ca,y(Qt,{modelValue:R.value,"onUpdate:modelValue":l[15]||(l[15]=o=>R.value=o),"label-value":Object.values(w(ie))[R.value],color:"primary",markers:"","label-always":"","switch-label-side":"",min:0,max:Object.values(w(ie)).length-1,step:1,onChange:l[16]||(l[16]=o=>B(o))},null,8,["modelValue","label-value","max"])])]),_:1})]),_:1}),y(ne,{class:"q-mb-md"},{default:j(()=>[y(ae,null,{default:j(()=>[ka,_a,d("div",xa,[Ta,y(Le,{modelValue:h.value,"onUpdate:modelValue":l[18]||(l[18]=o=>h.value=o),outlined:"",dense:"",label:"Record Type",options:I.value},{before:j(()=>[y(K,{disable:!h.value,label:"Delete Data",color:"negative",onClick:l[17]||(l[17]=o=>$(h.value.label,h.value.value))},null,8,["disable"])]),_:1},8,["modelValue","options"])]),d("div",wa,[Ea,y(K,{label:"Delete All Data",color:"negative",onClick:l[19]||(l[19]=o=>G())})]),d("div",La,[Da,y(K,{label:"Delete Database",color:"negative",onClick:l[20]||(l[20]=o=>b())})])]),_:1})]),_:1})]),_:1},8,["bannerIcon"]))}});export{Ba as default};
