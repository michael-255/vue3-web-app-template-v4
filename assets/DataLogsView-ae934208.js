import{Q as _,a as w,b as C,c as B}from"./QTable-89773ff3.js";import{d as N,b as q,A as D,e as A,r as i,J as v,f as F,h as M,j as u,k as f,l as s,m as o,q as L,s as k,F as y,G as d,x as Q,u as t,I as b,n as c,Q as T,K as O,t as g,v as j,L as P,C as R,E as U,M as $}from"./index-5d245f77.js";import{Q as G}from"./QSelect-65e68149.js";import{u as J}from"./useRoutables-128af855.js";import"./QList-3c4dfd94.js";import"./QItem-6c91178d.js";import"./QItemLabel-35dc4d65.js";import"./QMenu-36ba3952.js";import"./selection-280b5155.js";const K={class:"row justify-start full-width q-mb-md"},Y=c("div",{class:"col-10 text-h6 text-bold ellipsis"},"Logs",-1),z={class:"row justify-start full-width"},H={class:"col-12"},re=N({__name:"DataLogsView",setup(W){q({title:`${D} - Logs Data`});const{log:V}=A(),{goToLogInspect:x,goBack:E}=J(),m=i(""),r=i([]),p=i([v.TIMESTAMP,v.SEVERITY,v.LABEL]),h=i(P),I=i(h.value.filter(a=>!a.required)),S=F.liveLogs().subscribe({next:a=>{r.value=a},error:a=>{V.error("Error fetching live Logs",a)}});return M(()=>{S.unsubscribe()}),(a,n)=>(u(),f(B,{rows:r.value,columns:h.value,"visible-columns":p.value,"rows-per-page-options":[0],filter:m.value,"virtual-scroll":"",fullscreen:"","row-key":"id"},{header:s(e=>[o(w,{props:e},{default:s(()=>[(u(!0),L(y,null,k(e.cols,l=>R((u(),f(_,{key:l.name,props:e},{default:s(()=>[d(g(l.label),1)]),_:2},1032,["props"])),[[U,!t($).includes(l.name)]])),128)),o(_,{"auto-width":"",class:"text-left"},{default:s(()=>[d("Actions")]),_:1})]),_:2},1032,["props"])]),body:s(e=>[o(w,{props:e},{default:s(()=>[(u(!0),L(y,null,k(e.cols,l=>(u(),f(C,{key:l.name,props:e},{default:s(()=>[d(g(l.value),1)]),_:2},1032,["props"]))),128)),o(C,{"auto-width":""},{default:s(()=>[o(Q,{flat:"",round:"",dense:"",class:"q-ml-xs",color:"primary",icon:t(b).INSPECT,onClick:l=>t(x)(e.cols[0].value)},null,8,["icon","onClick"])]),_:2},1024)]),_:2},1032,["props"])]),top:s(()=>[c("div",K,[Y,o(Q,{round:"",flat:"",class:"absolute-top-right q-mr-sm q-mt-sm",icon:t(b).CLOSE,onClick:n[0]||(n[0]=e=>t(E)())},null,8,["icon"])]),c("div",z,[c("div",H,[o(O,{disable:!r.value.length,outlined:"",dense:"",clearable:"",debounce:"300",modelValue:m.value,"onUpdate:modelValue":n[2]||(n[2]=e=>m.value=e),placeholder:"Search"},{before:s(()=>[o(G,{modelValue:p.value,"onUpdate:modelValue":n[1]||(n[1]=e=>p.value=e),options:I.value,disable:!r.value.length,"bg-color":"primary",standout:"",multiple:"",dense:"","options-dense":"","emit-value":"","map-options":"","option-value":"name","display-value":""},{prepend:s(()=>[o(T,{color:"white",name:t(b).OPTIONS},null,8,["name"])]),_:1},8,["modelValue","options","disable"])]),append:s(()=>[o(T,{name:"search"})]),_:1},8,["disable","modelValue"])])])]),bottom:s(()=>[d(g(t(j)(r.value)),1)]),_:1},8,["rows","columns","visible-columns","filter"]))}});export{re as default};
