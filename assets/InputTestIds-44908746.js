import{Q as f}from"./QSelect-5c5b8d5a.js";import{d as g,a as v,r as y,L as S,b as T,T as V,bz as b,c as h,e as w,w as r,f as l,Q,l as i,t as n,h as d,i as _}from"./index-aa65fb50.js";import{u as B}from"./action-83ae81b7.js";import"./QItem-4a774405.js";import"./QItemLabel-aa6ab2e3.js";import"./QMenu-514d03ae.js";import"./selection-cbc30095.js";const C={class:"text-h6"},L=g({__name:"InputTestIds",props:{field:{},label:{},desc:{},getDefault:{type:Function},validator:{},validationMessage:{}},setup(u){const a=u,{log:p}=v(),o=B(),s=y([]);S(async()=>{try{o.record[a.field]=o.record[a.field]??a.getDefault();const e=await T.getAll(V.TEST_PARENT);s.value=e.map(t=>({value:t.id,label:`${t.name} (${b(t.id,4,"*")})`}))}catch(e){p.error("Error with input: test ids",e)}});function c(){return async e=>await a.validator.isValid(e)||a.validationMessage}return(e,t)=>(h(),w(_,null,{default:r(()=>[l(Q,null,{default:r(()=>[i("p",C,n(e.label),1),i("p",null,n(e.desc),1),l(f,{modelValue:d(o).record[e.field],"onUpdate:modelValue":t[0]||(t[0]=m=>d(o).record[e.field]=m),rules:[c()],options:s.value,counter:"",multiple:"","emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary"},null,8,["modelValue","rules","options"])]),_:1})]),_:1}))}});export{L as default};
