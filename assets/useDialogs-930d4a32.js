import{g as A,r as I,k as w,n as u,p as _,w as s,y as a,E as H,q as e,t as C,aM as E,Q as R,v as y,x as b,K as v,T as P,B as D,C as $,$ as B,Z as z,D as x,m as G,I as k,aN as K,aO as N,G as S,M as V,L as j,an as F,aG as c,aP as U}from"./index-d68b0eaf.js";import{u as W}from"./action-bacae855.js";import{Q as Y}from"./QSelect-eea99a9e.js";import{_ as Z}from"./ErrorStates.vue_vue_type_script_setup_true_lang-f09fb14b.js";import{u as J}from"./ui-903b8f03.js";const X=()=>!0;function ee(l){const n={};return l.forEach(i=>{n[i]=X}),n}function f(){const{emit:l,proxy:n}=A(),i=I(null);function m(){i.value.show()}function r(){i.value.hide()}function o(d){l("ok",d),r()}function t(){l("hide")}return Object.assign(n,{show:m,hide:r}),{dialogRef:i,onDialogHide:t,onDialogOK:o,onDialogCancel:r}}const M=["ok","hide"];f.emits=M;f.emitsObject=ee(M);const oe={class:"text-h6"},ne=w({__name:"ConfirmationDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...f.emits],setup(l){const n=l,{dialogRef:i,onDialogHide:m,onDialogOK:r,onDialogCancel:o}=f();return(t,d)=>(u(),_(H,{ref_key:"dialogRef",ref:i,onHide:a(m)},{default:s(()=>[e($,{class:"q-dialog-plugin"},{default:s(()=>[e(C,{class:E(`bg-${n.color} text-white q-py-sm`)},{default:s(()=>[e(R,{name:t.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),y("span",oe,b(t.title),1)]),_:1},8,["class"]),e(C,{class:"q-mt-md"},{default:s(()=>[v(b(t.message),1)]),_:1}),e(P,{align:"right"},{default:s(()=>[e(D,{flat:"",label:"Cancel",onClick:a(o)},null,8,["onClick"]),e(D,{flat:"",label:"Confirm",color:t.color,onClick:a(r)},null,8,["color","onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),te={class:"text-h6"},ae=w({__name:"DismissalDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...f.emits],setup(l){const n=l,{dialogRef:i,onDialogHide:m,onDialogOK:r}=f();return(o,t)=>(u(),_(H,{ref_key:"dialogRef",ref:i,onHide:a(m)},{default:s(()=>[e($,{class:"q-dialog-plugin"},{default:s(()=>[e(C,{class:E(`bg-${n.color} text-white q-py-sm`)},{default:s(()=>[e(R,{name:o.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),y("span",te,b(o.title),1)]),_:1},8,["class"]),e(C,{class:"q-mt-md"},{default:s(()=>[v(b(o.message),1)]),_:1}),e(P,{align:"right"},{default:s(()=>[e(D,{flat:"",label:"Dismiss",onClick:a(r)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),se={class:"text-h5"},le=w({__name:"InspectionDialog",props:{record:{},table:{}},emits:[...f.emits],setup(l){const n=l,{dialogRef:i,onDialogHide:m,onDialogOK:r}=f(),o=W(),t=n.table===B.LOGS?z.getFieldComponents():x.getFieldComponents(n.table),d=n.table===B.LOGS?z.getLabel("singular"):x.getLabel(n.table,"singular");return Object.keys(n.record).map(p=>{o.record[p]=n.record[p]}),G(()=>{o.$reset()}),(p,O)=>(u(),_(H,{ref_key:"dialogRef",ref:i,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:a(m)},{default:s(()=>[e(N,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[e(R,{name:a(k).INSPECT,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(K,null,{default:s(()=>[v("Inspect")]),_:1}),e(D,{flat:"",round:"",icon:a(k).CLOSE,onClick:a(r)},null,8,["icon","onClick"])]),_:1}),e($,{class:"q-dialog-plugin"},{default:s(()=>[e(C,null,{default:s(()=>[y("p",se,b(a(d)),1),(u(!0),S(j,null,V(a(t),(Q,g)=>(u(),S("div",{key:g,class:"q-mb-md"},[(u(),_(F(Q),{inspecting:!0}))]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ie={class:"text-h5"},re=y("p",null,"Select how far back you want the charts to display.",-1),ce=w({__name:"ChartingDialog",props:{id:{},parentTable:{}},emits:[...f.emits],setup(l){const n=l,{dialogRef:i,onDialogHide:m,onDialogOK:r}=f(),o=J(),t=I(null),d=I([c[c["One Week"]],c[c["One Month"]],c[c["Three Months"]],c[c["Six Months"]],c[c["One Year"]],c[c["All Time"]]]),p=x.getChartComponents(n.parentTable),O=x.getLabel(n.parentTable,"singular");function Q(g){return g!=null&&g!==""}return(g,T)=>(u(),_(H,{ref_key:"dialogRef",ref:i,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:a(m)},{default:s(()=>[e(N,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[e(R,{name:a(k).CHARTS,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(K,null,{default:s(()=>[v("Charts")]),_:1}),e(D,{flat:"",round:"",icon:a(k).CLOSE,onClick:a(r)},null,8,["icon","onClick"])]),_:1}),e($,{class:"q-dialog-plugin"},{default:s(()=>[a(p).length>0?(u(),_(C,{key:0},{default:s(()=>[y("p",ie,b(a(O)),1),re,e(Y,{modelValue:a(o).chartTime,"onUpdate:modelValue":T[0]||(T[0]=h=>a(o).chartTime=h),ref_key:"inputRef",ref:t,label:"Chart Time",options:d.value,rules:[h=>Q(h)||"Required"],"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",onBlur:T[1]||(T[1]=h=>{var q,L;return!!((L=(q=t.value)==null?void 0:q.value)!=null&&L.validate())})},null,8,["modelValue","options","rules"]),(u(!0),S(j,null,V(a(p),(h,q)=>(u(),S("div",{key:q,class:"q-mb-md"},[(u(),_(F(h),{id:g.id,parentTable:g.parentTable},null,8,["id","parentTable"]))]))),128))]),_:1})):(u(),_(Z,{key:1,error:"no-data"}))]),_:1})]),_:1},8,["onHide"]))}});function ge(){const l=U();function n(o,t,d,p,O){l.dialog({component:ne,componentProps:{title:o,message:t,icon:d,color:p}}).onOk(()=>{O()})}function i(o,t,d=k.INFO,p="info"){l.dialog({component:ae,componentProps:{title:o,message:t,icon:d,color:p}})}function m(o,t){l.dialog({component:le,componentProps:{record:o,table:t}})}function r(o,t){l.dialog({component:ce,componentProps:{id:o,parentTable:t}})}return{confirmDialog:n,dismissDialog:i,inspectDialog:m,chartsDialog:r}}export{ge as u};
