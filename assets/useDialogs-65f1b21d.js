import{g as A,r as z,k as H,m as l,n as D,w as s,x as n,C as R,p as e,q as y,aM as K,Q as $,t as q,v as f,K as Q,T as N,z as x,B as L,$ as P,Z as E,D as S,am as G,Y as F,I as T,aN as V,aO as M,G as p,M as w,L as I,aG as u,an as U,aP as Y}from"./index-fedd1f23.js";import{u as W}from"./action-06507f24.js";import{Q as Z}from"./QSelect-3c47dbb7.js";import{_ as J}from"./ErrorStates.vue_vue_type_script_setup_true_lang-80b2ae62.js";import{u as X}from"./ui-abc64164.js";const ee=()=>!0;function oe(i){const a={};return i.forEach(r=>{a[r]=ee}),a}function h(){const{emit:i,proxy:a}=A(),r=z(null);function d(){r.value.show()}function c(){r.value.hide()}function o(g){i("ok",g),c()}function t(){i("hide")}return Object.assign(a,{show:d,hide:c}),{dialogRef:r,onDialogHide:t,onDialogOK:o,onDialogCancel:c}}const j=["ok","hide"];h.emits=j;h.emitsObject=oe(j);const ne={class:"text-h6"},te=H({__name:"ConfirmationDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:d,onDialogOK:c,onDialogCancel:o}=h();return(t,g)=>(l(),D(R,{ref_key:"dialogRef",ref:r,onHide:n(d)},{default:s(()=>[e(L,{class:"q-dialog-plugin"},{default:s(()=>[e(y,{class:K(`bg-${a.color} text-white q-py-sm`)},{default:s(()=>[e($,{name:t.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),q("span",ne,f(t.title),1)]),_:1},8,["class"]),e(y,{class:"q-mt-md"},{default:s(()=>[Q(f(t.message),1)]),_:1}),e(N,{align:"right"},{default:s(()=>[e(x,{flat:"",label:"Cancel",onClick:n(o)},null,8,["onClick"]),e(x,{flat:"",label:"Confirm",color:t.color,onClick:n(c)},null,8,["color","onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),se={class:"text-h6"},ae=H({__name:"DismissalDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:d,onDialogOK:c}=h();return(o,t)=>(l(),D(R,{ref_key:"dialogRef",ref:r,onHide:n(d)},{default:s(()=>[e(L,{class:"q-dialog-plugin"},{default:s(()=>[e(y,{class:K(`bg-${a.color} text-white q-py-sm`)},{default:s(()=>[e($,{name:o.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),q("span",se,f(o.title),1)]),_:1},8,["class"]),e(y,{class:"q-mt-md"},{default:s(()=>[Q(f(o.message),1)]),_:1}),e(N,{align:"right"},{default:s(()=>[e(x,{flat:"",label:"Dismiss",onClick:n(c)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),le={class:"text-h5"},ie={class:"text-weight-bold text-body1"},re={key:0},ce={key:1},ue={key:2},de=H({__name:"InspectionDialog",props:{record:{},table:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:d,onDialogOK:c}=h(),o=W(),t=a.table===P.LOGS?E.getInspectionItems():S.getInspectionItems(a.table),g=a.table===P.LOGS?E.getLabel("singular"):S.getLabel(a.table,"singular");return G(!0,o.record,a.record),F(()=>{o.$reset()}),(k,O)=>(l(),D(R,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:n(d)},{default:s(()=>[e(M,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[e($,{name:n(T).INSPECT,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(V,null,{default:s(()=>[Q("Inspect")]),_:1}),e(x,{flat:"",round:"",icon:n(T).CLOSE,onClick:n(c)},null,8,["icon","onClick"])]),_:1}),e(L,{class:"q-dialog-plugin"},{default:s(()=>[e(y,null,{default:s(()=>[q("p",le,f(n(g)),1),(l(!0),p(I,null,w(n(t),(_,b)=>(l(),p("div",{key:b,class:"q-mb-md"},[q("div",ie,f(_.label),1),_.output==="single"?(l(),p("div",re,f(_.format(n(o).record[_.field])),1)):_.output==="list"?(l(),p("div",ce,[(l(!0),p(I,null,w(n(o).record[_.field],(C,m)=>(l(),p("li",{key:m,class:"q-ml-sm"},f(_.format(C)),1))),128))])):(l(),p("div",ue,[(l(!0),p(I,null,w(n(o).record[_.field],(C,m)=>(l(),p("li",{key:m,class:"q-ml-sm"},f(m)+": "+f(C),1))),128))]))]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),me={class:"text-h5"},pe=q("p",null,"Select how far back you want the charts to display.",-1),fe=H({__name:"ChartingDialog",props:{id:{},parentTable:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:d,onDialogOK:c}=h(),o=X(),t=z(null),g=z([u[u["One Week"]],u[u["One Month"]],u[u["Three Months"]],u[u["Six Months"]],u[u["One Year"]],u[u["All Time"]]]),k=S.getChartComponents(a.parentTable),O=S.getLabel(a.parentTable,"singular");function _(b){return b!=null&&b!==""}return(b,C)=>(l(),D(R,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:n(d)},{default:s(()=>[e(M,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[e($,{name:n(T).CHARTS,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(V,null,{default:s(()=>[Q("Charts")]),_:1}),e(x,{flat:"",round:"",icon:n(T).CLOSE,onClick:n(c)},null,8,["icon","onClick"])]),_:1}),e(L,{class:"q-dialog-plugin"},{default:s(()=>[n(k).length>0?(l(),D(y,{key:0},{default:s(()=>[q("p",me,f(n(O)),1),pe,e(Z,{modelValue:n(o).chartTime,"onUpdate:modelValue":C[0]||(C[0]=m=>n(o).chartTime=m),ref_key:"inputRef",ref:t,label:"Chart Time",options:g.value,rules:[m=>_(m)||"Required"],"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",onBlur:C[1]||(C[1]=m=>{var v,B;return!!((B=(v=t.value)==null?void 0:v.value)!=null&&B.validate())})},null,8,["modelValue","options","rules"]),(l(!0),p(I,null,w(n(k),(m,v)=>(l(),p("div",{key:v,class:"q-mb-md"},[(l(),D(U(m),{id:b.id,parentTable:b.parentTable},null,8,["id","parentTable"]))]))),128))]),_:1})):(l(),D(J,{key:1,error:"no-data"}))]),_:1})]),_:1},8,["onHide"]))}});function ke(){const i=Y();function a(o,t,g,k,O){i.dialog({component:te,componentProps:{title:o,message:t,icon:g,color:k}}).onOk(()=>{O()})}function r(o,t,g=T.INFO,k="info"){i.dialog({component:ae,componentProps:{title:o,message:t,icon:g,color:k}})}function d(o,t){i.dialog({component:de,componentProps:{record:o,table:t}})}function c(o,t){i.dialog({component:fe,componentProps:{id:o,parentTable:t}})}return{confirmDialog:a,dismissDialog:r,inspectDialog:d,chartsDialog:c}}export{ke as u};
