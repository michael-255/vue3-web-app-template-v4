import{d as h,a as v,r as _,H as w,a9 as m,ba as I,D as y,b as n,c as R,e as x,w as V,f as C,l as c,t as i,Q as T,i as b,a4 as P}from"./index-0b61b6a2.js";import{u as B}from"./useRoutables-2922f61d.js";const D={class:"text-h6"},k={class:"q-my-none q-py-none text-grey text-caption"},S=h({__name:"ParentInfoCard",setup(q){const{routeId:d,routeParentId:l,routeType:t}=B(),{log:g}=v(),o=_(!1),e=_({});return w(async()=>{try{const r=await m.isValid(d),p=await m.isValid(l),u=await I.isValid(t);if(u&&p){const a=y.getParentType(t),s=await n.getRecord(a,l);s&&(e.value=s,o.value=!0)}else if(u&&r){const a=await n.getRecord(t,d);if(a&&a.parentId){const s=y.getParentType(t),f=await n.getRecord(s,a.parentId);f&&(e.value=f,o.value=!0)}}}catch(r){g.error("Error loading parent info card",r)}}),(r,p)=>o.value?(R(),x(b,{key:0,class:"q-mb-md"},{default:V(()=>[C(T,null,{default:V(()=>[c("p",D,"Record for "+i(e.value.name),1),c("p",null,i(e.value.desc),1),c("p",k,"Id: "+i(e.value.id),1)]),_:1})]),_:1})):P("",!0)}});export{S as _};
