import{k as I,l as _,r as g,Y as v,D as p,n as s,G as i,x as b,y as e,q as l,bG as y,R as u,w,Q as T,I as k,bH as S,L as x,v as m}from"./index-368ec556.js";import{Q as B}from"./QSelect-123bc01e.js";import{u as D}from"./action-7395795f.js";import{u as P}from"./useRouting-6b2e99f4.js";import"./QItem-e0734a3f.js";import"./QItemLabel-5a342a16.js";import"./QMenu-9d46b190.js";import"./selection-aeada966.js";const R=m("div",{class:"text-weight-bold text-body1"},"Parent Record",-1),V={key:0},E={key:1},Q=m("p",null," The parent record that this child record is associated with. This cannot be updated once set during record creation. ",-1),H=I({__name:"FieldParentId",props:{inspecting:{type:Boolean}},setup(C){const{route:d,routeTable:c}=P(),{log:h}=_(),o=D(),a=g([]);v(async()=>{try{if(c){const t=p.getParentTable(c);a.value=await p.getParentIdOptions(t),a.value.some(r=>r.value===o.record.parentId)||(o.record.parentId=void 0)}}catch(t){h.error("Error with parent id field",t)}});function f(t){return`${t||"-"}`}return(t,n)=>(s(),i(x,null,[R,t.inspecting?(s(),i("div",V,b(f(e(o).record.parentId)),1)):(s(),i("div",E,[Q,l(B,{disable:e(d).name===e(u).EDIT,modelValue:e(o).record.parentId,"onUpdate:modelValue":n[0]||(n[0]=r=>e(o).record.parentId=r),rules:[r=>e(S).safeParse(r).success||"Required"],options:a.value,"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary"},y({_:2},[e(d).name===e(u).EDIT?{name:"prepend",fn:w(()=>[l(T,{color:"warning",name:e(k).LOCK},null,8,["name"])]),key:"0"}:void 0]),1032,["disable","modelValue","rules","options"])]))],64))}});export{H as default};
