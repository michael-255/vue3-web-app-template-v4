import{g as A,r as I,k as w,m as u,n as _,w as s,x as a,C as H,p as e,q as C,aM as P,Q as R,t as O,v as b,K as v,T as E,z as D,B as $,$ as z,Z as B,D as x,Y as G,I as k,aN as K,aO as N,G as S,M as V,L as j,an as F,aG as c,aP as U}from"./index-b485ae0b.js";import{u as Y}from"./action-35b72a8d.js";import{Q as W}from"./QSelect-c63f4c89.js";import{_ as Z}from"./ErrorStates.vue_vue_type_script_setup_true_lang-711b85da.js";import{u as J}from"./ui-03a2bc1c.js";const X=()=>!0;function ee(l){const n={};return l.forEach(i=>{n[i]=X}),n}function f(){const{emit:l,proxy:n}=A(),i=I(null);function m(){i.value.show()}function r(){i.value.hide()}function o(d){l("ok",d),r()}function t(){l("hide")}return Object.assign(n,{show:m,hide:r}),{dialogRef:i,onDialogHide:t,onDialogOK:o,onDialogCancel:r}}const M=["ok","hide"];f.emits=M;f.emitsObject=ee(M);const oe={class:"text-h6"},ne=w({__name:"ConfirmationDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...f.emits],setup(l){const n=l,{dialogRef:i,onDialogHide:m,onDialogOK:r,onDialogCancel:o}=f();return(t,d)=>(u(),_(H,{ref_key:"dialogRef",ref:i,onHide:a(m)},{default:s(()=>[e($,{class:"q-dialog-plugin"},{default:s(()=>[e(C,{class:P(`bg-${n.color} text-white q-py-sm`)},{default:s(()=>[e(R,{name:t.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),O("span",oe,b(t.title),1)]),_:1},8,["class"]),e(C,{class:"q-mt-md"},{default:s(()=>[v(b(t.message),1)]),_:1}),e(E,{align:"right"},{default:s(()=>[e(D,{flat:"",label:"Cancel",onClick:a(o)},null,8,["onClick"]),e(D,{flat:"",label:"Confirm",color:t.color,onClick:a(r)},null,8,["color","onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),te={class:"text-h6"},ae=w({__name:"DismissalDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...f.emits],setup(l){const n=l,{dialogRef:i,onDialogHide:m,onDialogOK:r}=f();return(o,t)=>(u(),_(H,{ref_key:"dialogRef",ref:i,onHide:a(m)},{default:s(()=>[e($,{class:"q-dialog-plugin"},{default:s(()=>[e(C,{class:P(`bg-${n.color} text-white q-py-sm`)},{default:s(()=>[e(R,{name:o.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),O("span",te,b(o.title),1)]),_:1},8,["class"]),e(C,{class:"q-mt-md"},{default:s(()=>[v(b(o.message),1)]),_:1}),e(E,{align:"right"},{default:s(()=>[e(D,{flat:"",label:"Dismiss",onClick:a(r)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),se={class:"text-h5"},le=w({__name:"InspectionDialog",props:{record:{},table:{}},emits:[...f.emits],setup(l){const n=l,{dialogRef:i,onDialogHide:m,onDialogOK:r}=f(),o=Y(),t=n.table===z.LOGS?B.getFieldComponents():x.getFieldComponents(n.table),d=n.table===z.LOGS?B.getLabel("singular"):x.getLabel(n.table,"singular");return Object.keys(n.record).map(p=>{o.record[p]=n.record[p]}),G(()=>{o.$reset()}),(p,T)=>(u(),_(H,{ref_key:"dialogRef",ref:i,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:a(m)},{default:s(()=>[e(N,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[e(R,{name:a(k).INSPECT,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(K,null,{default:s(()=>[v("Inspect")]),_:1}),e(D,{flat:"",round:"",icon:a(k).CLOSE,onClick:a(r)},null,8,["icon","onClick"])]),_:1}),e($,{class:"q-dialog-plugin"},{default:s(()=>[e(C,null,{default:s(()=>[O("p",se,b(a(d)),1),(u(!0),S(j,null,V(a(t),(Q,g)=>(u(),S("div",{key:g,class:"q-mb-md"},[(u(),_(F(Q),{inspecting:!0}))]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ie={class:"text-h5"},re=O("p",null,"Select how far back you want the charts to display.",-1),ce=w({__name:"ChartingDialog",props:{id:{},parentTable:{}},emits:[...f.emits],setup(l){const n=l,{dialogRef:i,onDialogHide:m,onDialogOK:r}=f(),o=J(),t=I(null),d=I([c[c["One Week"]],c[c["One Month"]],c[c["Three Months"]],c[c["Six Months"]],c[c["One Year"]],c[c["All Time"]]]),p=x.getChartComponents(n.parentTable),T=x.getLabel(n.parentTable,"singular");function Q(g){return g!=null&&g!==""}return(g,q)=>(u(),_(H,{ref_key:"dialogRef",ref:i,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:a(m)},{default:s(()=>[e(N,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[e(R,{name:a(k).CHARTS,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(K,null,{default:s(()=>[v("Charts")]),_:1}),e(D,{flat:"",round:"",icon:a(k).CLOSE,onClick:a(r)},null,8,["icon","onClick"])]),_:1}),e($,{class:"q-dialog-plugin"},{default:s(()=>[a(p).length>0?(u(),_(C,{key:0},{default:s(()=>[O("p",ie,b(a(T)),1),re,e(W,{modelValue:a(o).chartTime,"onUpdate:modelValue":q[0]||(q[0]=h=>a(o).chartTime=h),ref_key:"inputRef",ref:t,label:"Chart Time",options:d.value,rules:[h=>Q(h)||"Required"],"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",onBlur:q[1]||(q[1]=h=>{var y,L;return!!((L=(y=t.value)==null?void 0:y.value)!=null&&L.validate())})},null,8,["modelValue","options","rules"]),(u(!0),S(j,null,V(a(p),(h,y)=>(u(),S("div",{key:y,class:"q-mb-md"},[(u(),_(F(h),{id:g.id,parentTable:g.parentTable},null,8,["id","parentTable"]))]))),128))]),_:1})):(u(),_(Z,{key:1,error:"no-data"}))]),_:1})]),_:1},8,["onHide"]))}});function ge(){const l=U();function n(o,t,d,p,T){l.dialog({component:ne,componentProps:{title:o,message:t,icon:d,color:p}}).onOk(()=>{T()})}function i(o,t,d=k.INFO,p="info"){l.dialog({component:ae,componentProps:{title:o,message:t,icon:d,color:p}})}function m(o,t){l.dialog({component:le,componentProps:{record:o,table:t}})}function r(o,t){l.dialog({component:ce,componentProps:{id:o,parentTable:t}})}return{confirmDialog:n,dismissDialog:i,inspectDialog:m,chartsDialog:r}}export{ge as u};
